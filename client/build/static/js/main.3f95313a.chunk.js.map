{"version":3,"sources":["theme.js","constants.js","vendor/Pages/LoginScreen.js","vendor/Pages/Checkin.js","HelperFunctions.js","vendor/Orders/VendorOrderCard.js","vendor/Orders/FulfilledOrderCard.js","vendor/Pages/VendorOrders.js","vendor/PastOrders/PastOrderCard.js","vendor/Pages/VendorPastOrders.js","vendor/Nav.js","VendorApp.js","customer/Nav3.js","customer/SplashPage/VanCard.js","customer/SplashPage/NearestVans.js","customer/Logo/Logo.js","customer/Logo/favicon-128-2.png","customer/SplashPage/VanMap.js","customer/Pages/SplashPage.js","customer/Pages/Login.js","customer/Pages/Registration.js","customer/Pages/MyOrder.js","customer/VanDetails/MenuItem.js","customer/Pages/VanDetails.js","customer/Orders/OrderCard.js","customer/Pages/Orders.js","customer/ModifyOrder/MMenuItem.js","customer/Pages/ModifyOrder.js","CustomerApp.js","App.js","index.js"],"names":["theme","createMuiTheme","palette","orange","main","contrastText","beige","green","brown","grey","white","API_URL","LoginScreen","props","auth","setAuth","history","useHistory","ThemeProvider","Grid","container","direction","justify","Container","maxWidth","style","marginTop","spacing","item","margin","Typography","variant","noValidate","autoComplete","onSubmit","event","preventDefault","data","van_name","target","value","password","axios","url","method","headers","then","res","cst","jwt","decode","console","log","push","err","catch","error","TextField","required","name","type","label","color","Button","disableElevation","Checkin","location","setLocation","useState","useEffect","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","lat","long","simple","location_string","ready","_id","dictify","list","out","forEach","x","stringifyItems","order","itemDict","i","string","Object","keys","length","items","item_name","quantity","checkModifyWindow","time","modified_time","Date","modify_limit","formatDateTime","datetime","strings","toString","split","new_time","slice","new_datetime","formatTime","hours","getHours","minutes","getMinutes","checkDiscount","fulfilled_time","modified","current_time","fulfilled","time_limit","getDeadline","setMinutes","getTimeRemaining","countdown","Math","trunc","seconds","useStyles","makeStyles","root","width","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","warning","light","secondaryHeading","text","secondary","OrderCard","classes","menu","setMenu","customer","setCustomer","open","setOpen","expanded","setExpanded","React","customer_name","given_name","family_name","Card","className","marginBottom","Accordion","onChange","panel","isExpanded","AccordionSummary","id","parseInt","AccordionDetails","overflowX","overflowY","height","xs","alignItems","TableContainer","Table","TableHead","TableRow","map","column","TableCell","TableBody","idx","Checkbox","marginLeft","onClick","vendor","display","Snackbar","anchorOrigin","vertical","horizontal","onClose","message","success","FulfilledOrderCard","picked_up","VendorOrders","orders","setOrders","interval","setInterval","vendor_id","clearInterval","sort","a","b","filter","arginLeft","columns","audFormatter","Intl","NumberFormat","currency","minWidth","bullet","transform","title","pos","PastOrderCard","CardContent","gutterBottom","component","format","reduce","VendorPastOrders","flexGrow","NavBar","xsMatch","useMediaQuery","smMatch","sevenFiftyMatch","backgroundColor","AppBar","appBar","boxShadow","Toolbar","justifyContent","sm","md","lg","CardMedia","Link","to","textDecoration","image","size","VendorApp","CssBaseline","Nav","exact","path","render","NavBar3","key","background","distanceText","float","VanCard","styles","distance","round","number","content","simpleLocation","rating","parseFloat","widgetDimensions","widgetSpacings","Widget","widgetRatedColor","NearestVans","vans","van","hasOwnProperty","Logo","Avatar","src","alt","userLocationStyle","paint","VanMap","viewport","setViewport","zoom","bearing","pitch","borderRadius","mapStyle","mapboxApiAccessToken","process","onViewportChange","nextViewport","marker","features","geometry","coordinates","SplashPage","setVans","backgroundPosition","backgroundRepeat","backgroundSize","backgroundAttachment","marginRight","paddingTop","fontWeight","paddingBottom","fontStyle","Login","invalid","setInvalid","handleClose","email","defaultValue","href","Registration","MyOrder","setOrder","confirmed","setConfirmed","cancelled","setCancelled","item_price","e","Authorization","post","MenuItem","menuItem","item_image_url","CardActions","newOrder","JSON","parse","stringify","newItems","VanDetails","match","params","vanData","setVanData","vansWithCorrectName","undefined","flexDirection","isNaN","withStyles","iconFilled","iconHover","Rating","removeOrder","setRating","comment","setComment","setVendor","rating_open","setRatingOpen","ratingSubmitted","fontFamily","pathname","delete","Box","mb","borderColor","precision","newRating","postRating","Orders","newOrders","customer_id","MMenuItem","modifiedOrder","setModifiedOrder","orderItem","newModifiedOrder","found","splice","ModifyOrder","order_id","patch","CustomerApp","Nav3","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3f95313a.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme({\n  // palette: {\n  //   primary: {\n  //     main: purple[50],\n  //   },\n  //   secondary: {\n  //     main: green[500],\n  //   },\n  // },\n  palette: {\n    orange: {\n      main: '#F27D52',\n      contrastText: '#ffffff',\n    },\n    beige: {\n      main: '#EDCC99',\n    },\n    green: {\n      main: '#77DDAB',\n      contrastText: '#ffffff',\n    },\n    brown: {\n      main: '#776533',\n      contrastText: '#ffffff',\n    },\n    grey: {\n      main: '#959595',\n    },\n    white: {\n      main: '#FFFFFF',\n    },\n  },\n})\n\nexport default theme\n","export const API_URL = 'https://bwiky-api.herokuapp.com'\n\n//export const API_URL = 'http://localhost:8080'\n","import {\n  Container,\n  TextField,\n  Grid,\n  Button,\n  Typography,\n} from '@material-ui/core';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from '../../theme';\n\nimport { API_URL } from '../../constants'\nimport axios from 'axios'\nimport jwt from 'jsonwebtoken'\nimport { useHistory } from 'react-router'\nimport { Link } from 'react-router-dom';\n\n\n\n// Login Page for Vendor\nconst LoginScreen = (props) => {\n  const { auth, setAuth } = props\n\n  const history = useHistory()\n\n\n    const handle_form_submit = (event) => {\n      event.preventDefault()\n\n      const headers = {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n      }\n\n      const data = {\n        van_name: event.target.van_name.value,\n        password: event.target.password.value,\n      }\n\n      axios({\n        url: `${API_URL}/vendors/login`,\n        method: 'POST',\n        data: data,\n        headers: headers,\n      })\n\n        .then((res) => {\n          setAuth(res.data)\n          const cst = jwt.decode(res.data)\n          if (cst) {\n            console.log(res.data)\n            console.log(cst)\n            // Redirect successful login to check in page\n            history.push('/vendor/checkin')\n\n          } else console.err('Invalid token')\n        })\n\n        // Invalid login\n        .catch((err) => {\n          console.error(err)\n          console.log(\"Invalid login\")\n          history.push('/vendor')\n        })\n    }\n\n\n  return (\n    <ThemeProvider theme={theme}>\n       <Grid container direction=\"row\" justify=\"center\">\n        <Container\n          maxWidth=\"sm\"\n          style={{\n            marginTop: '5%',\n          }}\n        >\n\n        <Grid container direction=\"column\" justify=\"center\" spacing={3}>\n\n          <Grid item style={{ margin: 'auto' }}>\n            <Typography variant=\"h3\">Hello!</Typography>\n          </Grid>\n\n          <Grid item style={{ margin: 'auto' }}>\n            <Typography variant=\"subtitle\">\n              Please enter your van name and password to log in.\n            </Typography>\n          </Grid>\n        </Grid>\n          <br />\n\n          <form noValidate autoComplete=\"off\" onSubmit={handle_form_submit}>\n\n          <Grid container direction=\"column\" justify=\"center\" spacing={3}>\n              <Grid item style={{ margin: 'auto' }}>\n                <TextField\n                required\n                variant=\"outlined\"\n                name=\"van_name\"\n                type=\"van_name\"\n                label=\"Van Name\"\n                color='orange'></TextField>\n              </Grid>\n\n            <Grid item style={{ margin: 'auto' }}>\n              <TextField\n              required\n              variant=\"outlined\"\n              name=\"password\"\n              type=\"password\"\n              label=\"Password\"\n              color='orange'></TextField>\n            </Grid>\n\n            <Grid item style={{ margin: 'auto' }}>\n                <Button variant=\"contained\" color='orange' disableElevation>\n                  Log In\n                </Button>\n            </Grid>\n          </Grid>\n        </form>\n        </Container>\n      </Grid>\n     </ThemeProvider>\n  );\n}\n\nexport default LoginScreen\n","import {\n  Button,\n  Container,\n  Grid,\n  Paper,\n  TextField,\n  Typography,\n} from '@material-ui/core'\nimport { ThemeProvider } from '@material-ui/core/styles'\nimport theme from '../../theme'\n\nimport { useState, useEffect } from 'react'\n\nimport jwt from 'jsonwebtoken'\nimport { API_URL } from '../../constants'\nimport axios from 'axios'\nimport { useHistory } from 'react-router'\nimport { Link } from 'react-router-dom';\n\n\n\n// Location Check In Page\nconst Checkin = (props) => {\n  const { auth, setAuth } = props\n  const [ location, setLocation ] = useState(null)\n\n  const history = useHistory()\n\n\n  // Get Geolocation\n  useEffect(() => {\n    if (!location) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        console.log(\n          `got location lat ${position.coords.latitude} long ${position.coords.longitude}`,\n        )\n        setLocation(position)\n      })\n    }\n    if (!location) {\n      // Default Location\n      setLocation({ coords: { latitude: -37.80435, longitude: 144.96296 } })\n    }\n  }, [])\n\n\n\n  const handle_form_submit = (event) => {\n    event.preventDefault()\n\n    console.log(\"Vendor Check In\")\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    const data = {\n      location: {\n        lat: location.coords.latitude,\n        long: location.coords.longitude,\n        simple:  event.target.location_string.value,\n      },\n      ready: true,\n    }\n\n    axios({\n      url: `${API_URL}/vendors/${jwt.decode(auth)._id}`,\n      method: 'PATCH',\n      data: data,\n      headers: headers,\n    })\n\n    .then((res) => {\n      if (res.data){\n        console.log(\"Checking in Location for vendor %s\", jwt.decode(auth)._id)\n        console.log(data)\n        // Redirect to orders\n        history.push('/vendor/orders')\n      }\n    })\n\n    .catch((err) => {\n      console.error(err)\n    })\n  }\n\n\n  return (\n    <ThemeProvider theme={theme}>\n       <Grid container direction=\"row\" justify=\"center\">\n        <Container\n          style={{\n            marginTop: '5%',\n          }}\n        >\n\n          <Grid container direction=\"column\" justify=\"center\" spacing={3}>\n\n          <Grid item style={{ margin: 'auto' }}>\n            <Typography variant=\"h4\">Welcome Back {auth ? jwt.decode(auth).van_name : null}!</Typography>\n          </Grid>\n\n          <Grid item style={{ margin: 'auto' }}>\n            <Typography variant=\"subtitle\">\n              Please enter your location to check in.\n            </Typography>\n          </Grid>\n\n          {/*Text field to get location string*/}\n          <form noValidate autoComplete=\"off\" onSubmit={handle_form_submit}>\n          <Grid container direction=\"column\" justify=\"center\" spacing={3}>\n            <Grid item style={{ margin: 'auto'}}>\n              <TextField\n              required\n              variant=\"outlined\"\n              label=\"Location\"\n              name=\"location_string\"\n              type=\"location_string\"\n              color='orange'></TextField>\n            </Grid>\n\n            <Grid item style={{ margin: 'auto' }}>\n              <Button variant=\"contained\" color='orange' disableElevation>\n                Check In\n              </Button>\n            </Grid>\n\n          </Grid>\n\n          </form>\n          </Grid>\n        </Container>\n      </Grid>\n     </ThemeProvider>\n  )\n}\n\nexport default Checkin\n","// Helper functions used across customer and vendor apps\n\n\nconst time_limit = 15 // dummy time limit in mins\nconst modify_limit = 10 // dummy modify limit in mins (customer is allowed to change or cancel order)\n\n// Convert a list into a dictionary with ids as keys\nexport function dictify(list) {\n  var out = {}\n  if (list) {\n    list.forEach((x) => (out[x._id] = x))\n  }\n  return out\n}\n\n\n// Display all items in an order as a string (with items and their quantities)\nexport function stringifyItems(order, itemDict){\n  var string = \"\"\n  var item_name = \"\"\n  var quantity = 0\n  var i;\n\n  if (order && Object.keys(itemDict).length !== 0){\n\n    for (i = 0; i < order.items.length; i++) {\n      item_name = itemDict[order.items[i]['item']]['item_name']\n      quantity = order.items[i].quantity\n      string += item_name + \" \" + \"x\" + quantity + \" \"\n    }\n  }\n\n  return string\n}\n\n\nexport function checkModifyWindow(time){\n  const modified_time = new Date(time)\n  const current_time = new Date()\n\n\n  if ((current_time-modified_time) <= modify_limit * 60000 ){\n    console.log(\"Checking modify window\")\n    return true // Customer can modify/cancel within window\n\n  }else{\n    return false // Customer cannot modify order\n  }\n\n}\n\n// Format date and time, return as string\nexport function formatDateTime(datetime){\n  // Split via spaces\n  var strings = new Date(datetime).toString().split(\" \")\n\n  // Get hours and minutes only\n  const new_time = strings[4].slice(0,5)\n\n  // Get new date and time as string\n  var new_datetime = \"\"\n  var i = 0\n\n  for (i=0; i<4; i++){\n    new_datetime = new_datetime + strings[i] + \" \"\n  }\n\n  new_datetime = new_datetime + new_time\n\n  return (new_datetime)\n\n}\n\n\n// Format time as xx:xx (hours and minutes) and return a string\nexport function formatTime(time){\n  var hours = new Date(time).getHours()\n  var minutes = new Date(time).getMinutes()\n\n  if (hours < 10){\n    var temp = hours\n    hours = \"0\" + temp\n  }\n\n  if (minutes < 10){\n    var temp = minutes\n    minutes = \"0\" + temp\n  }\n\n  return (hours + \":\" + minutes)\n}\n\n\n// Check whether a discount needs to be applied to an order (which is late)\nexport function checkDiscount(order){\n  const fulfilled_time = new Date(order.fulfilled_time)\n  const modified_time = new Date(order.modified)\n  const current_time = new Date()\n\n  if (order.fulfilled){\n    if ((fulfilled_time-modified_time) > time_limit * 60000 ){\n      console.log(\"Checking Discount\")\n      console.log((fulfilled_time-modified_time).toString())\n      return true // Apply discount\n    }else{\n      return false // No discount\n    }\n  }else{\n    if ((current_time-modified_time) > time_limit * 60000 ){\n      console.log(\"Checking Discount\")\n      return true // Apply discount\n    }else{\n      return false // No discount\n    }\n  }\n\n\n}\n\n\n// Get time the order is due to be fulfilled without being late\nexport function getDeadline(order){\n  var new_time = new Date(order.modified)\n  new_time.setMinutes(new_time.getMinutes() + time_limit );\n\n  return (formatTime(new_time))\n}\n\n\n// Countdown how many minutes:seconds remaining till a discount needs to be applied\nexport function getTimeRemaining(order){\n  const limit = time_limit *60000// time limit in milliseconds\n\n  const current_time = new Date()\n  const modified_time = new Date(order.modified)\n\n  var countdown = limit - (current_time - modified_time)\n\n  const minutes = Math.trunc((countdown / 1000) / 60) // convert milliseconds to minutes\n  const seconds = Math.trunc((countdown / 1000) % 60) // convert milliseconds to seconds\n\n  if (countdown > 0){\n    return (minutes.toString() + \":\" + seconds.toString())\n  }else{\n    return(\"0:00\")\n  }\n\n}\n","import React from 'react';\nimport {\n  Paper,\n  Container,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableRow,\n  TableContainer,\n  TableHead,\n  Checkbox,\n  Grid,\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Card,\n  Button,\n  Snackbar\n} from \"@material-ui/core\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nimport { API_URL } from '../../constants'\nimport {dictify,\n  formatTime,\n  checkDiscount,\n  getDeadline,\n  getTimeRemaining,\n  stringifyItems} from '../../HelperFunctions'\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(20),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    color: theme.palette.warning.light\n  },\n  secondaryHeading: {\n    marginTop: '0.25em',\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '80%',\n    flexShrink: 0,\n    color: theme.palette.text.secondary,\n  },\n}));\n\n\n// Individual Outstanding Order for Vendor\nconst OrderCard = (props) => {\n  const classes = useStyles();\n  const [menu, setMenu] = useState(null)\n  const [customer, setCustomer] = useState(null)\n  const [open, setOpen] = useState(false)\n  const [expanded, setExpanded] = React.useState(false);\n  const columns = [\"Item\", \"Qty\", \"Status\"];\n  const history = useHistory()\n\n  const { order , auth, setAuth } = props\n\n  var itemDict = {}\n  var customer_name = \"\"\n\n  // Handle Pop Up\n  const changeOpen = () => {\n    setOpen((open) => !open)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  // Accordian Handler\n  const handleChange = (panel) => (event, isExpanded) => {\n    // Expands panel when clicked\n    setExpanded(isExpanded ? panel : false);\n  }\n\n\n  const handleFulfillOrder = (event) => {\n    event.preventDefault()\n    console.log('Fulfilling order')\n\n    history.push('/vendor/orders')\n\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    const data = {\n      fulfilled: true\n    }\n\n    changeOpen() // trigger pop up\n\n    axios({\n      url: `${API_URL}/vendors/${order.vendor}/orders/${order._id}`,\n      method: 'PATCH',\n      data: data,\n      headers: headers,\n    })\n      .catch((err) => {\n        console.error(err)\n      })\n\n  }\n\n\n  useEffect(() => {\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    console.log('Getting Customer Name')\n\n    axios(`${API_URL}/customers/${order.customer}`, {\n        headers,\n    }).then((res) => {\n        setCustomer(res.data)\n    })\n\n    // Invalid Customer\n    .catch((err) => {\n        console.error(err)\n        console.log(\"Invalid customer\")\n    })\n  }, [])\n\n\n  useEffect(() => {\n    const headers = { 'Access-Control-Allow-Origin': '*' }\n\n    console.log('getting items')\n\n    axios(`${API_URL}/items`).then((res) => {\n      setMenu(res.data)\n    })\n  }, [])\n\n  itemDict = dictify(menu)\n\n  if (customer){\n    customer_name = customer.given_name + \" \" + customer.family_name\n  }\n\n\n  return (\n    <Card\n      className={classes.root}\n      style={{ marginBottom: '5px' }}\n    >\n\n    <Accordion expanded={expanded === order._id} onChange={handleChange(order._id)}>\n    {/*Summary of Order Card*/}\n      <AccordionSummary\n        id= {order._id}\n      >\n        <Typography className={classes.heading}>{getTimeRemaining(order)} mins</Typography>\n        <Typography className={classes.secondaryHeading}>Order #{parseInt(order._id.slice(-4), 16).toString().slice(-4)} : {stringifyItems(order, itemDict)}</Typography>\n      </AccordionSummary>\n\n      {/*Individual Order Cards to be expanded*/}\n      <AccordionDetails>\n      <div style={{ overflowX: \"hidden\", overflowY: \"hidden\" }}>\n        <Container>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"space-around\"\n              spacing={3}\n              style={{ height: \"100%\" }}\n            >\n              <Grid item xs={7}>\n                <Grid\n                  container\n                  direction=\"column\"\n                  justify=\"space-around\"\n                  alignItems=\"stretch\"\n                  style={{ height: \"100%\" }}\n                >\n\n                {Object.keys(itemDict).length !== 0 && (\n                  <Grid item xs={8}>\n                    <TableContainer>\n                      <Table>\n                        <TableHead>\n                          <TableRow>\n                            {columns.map((column) => (\n                              <TableCell key={column}>{column}</TableCell>\n                            ))}\n                          </TableRow>\n                        </TableHead>\n\n                        {/*Mapping Items*/}\n                        <TableBody>\n                        {Object.keys(order.items).map((id, idx) => (\n                          <TableRow key={idx}>\n                            <TableCell>\n                              {itemDict[order.items[id]['item']]['item_name']}\n                            </TableCell>\n\n                            <TableCell>\n                            {order.items[id].quantity}\n                            </TableCell>\n\n                            <TableCell>\n                              <Checkbox\n                                color=\"primary\"\n                              ></Checkbox>\n                            </TableCell>\n\n                          </TableRow>\n                        ))}\n                        </TableBody>\n                      </Table>\n                    </TableContainer>\n                  </Grid>\n                )}\n                </Grid>\n              </Grid>\n\n              {/*Customer Details*/}\n              <Grid item xs={4}>\n                <Typography variant=\"subtitle2\" style={{ marginTop: \"1em\", marginLeft: \"1em\" }}>\n                  Customer Details\n                </Typography>\n                <br />\n\n                <Typography variant=\"body2\" style={{ marginLeft: \"1em\" }}>\n                Name : {customer_name}\n                </Typography>\n                <br />\n\n                <Typography variant=\"body2\" style={{ marginLeft: \"1em\" }}>\n                Order Placed : {formatTime(order.modified)}\n                </Typography>\n                <br />\n\n                <Typography variant=\"body2\" style={{ marginLeft: \"1em\" }}>\n                Order Deadline : {getDeadline(order)}</Typography>\n                <br />\n\n                <Typography variant=\"body2\" style={{ marginLeft: \"1em\" }}>\n                Discount : {checkDiscount(order) ? \"20\" : \"0\"}%</Typography>\n\n                {/*Button to mark order as fulfilled*/}\n                <Button variant=\"outlined\" style={{ marginLeft: \"1em\", marginTop: \"1em\"}} onClick={handleFulfillOrder}>\n                  <Typography variant=\"button\" display=\"block\">\n                    Complete\n                  </Typography>\n                </Button>\n\n                <Snackbar\n                  anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n                  open={open}\n                  onClose={handleClose}\n                  message=\"Order marked as complete!\"\n                />\n\n              </Grid>\n            </Grid>\n        </Container>\n      </div>\n      </AccordionDetails>\n    </Accordion>\n    </Card>\n  );\n};\n\nexport default OrderCard;\n","import React from 'react';\nimport {\n  Paper,\n  Container,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableRow,\n  TableContainer,\n  TableHead,\n  Checkbox,\n  Grid,\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Card,\n  Button,\n  Snackbar\n} from \"@material-ui/core\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nimport { API_URL } from '../../constants'\nimport {dictify,\n  formatTime,\n  checkDiscount,\n  getDeadline,\n  getTimeRemaining,\n  stringifyItems} from '../../HelperFunctions'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(20),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    color: theme.palette.success.light\n  },\n  secondaryHeading: {\n    marginTop: '0.25em',\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    color: theme.palette.text.secondary,\n  },\n}));\n\n\n// Orders which are fulfilled and waiting to be picked up\nconst FulfilledOrderCard = (props) => {\n  const classes = useStyles();\n  const [menu, setMenu] = useState(null)\n  const [customer, setCustomer] = useState(null)\n  const [expanded, setExpanded] = React.useState(false);\n  const columns = [\"Item\", \"Qty\", \"Status\"];\n  const history = useHistory()\n\n  const { order , auth, setAuth } = props\n  var itemDict = {}\n  var customer_name = \"\"\n\n  const [open, setOpen] = useState(false)\n\n  // Handle Pop Up\n  const changeOpen = () => {\n    setOpen((open) => !open)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  }\n\n\n  const handlePickUpOrder = (event) => {\n    event.preventDefault()\n    history.push('/vendor/orders')\n\n    console.log('Picking up order')\n\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    const data = {\n      picked_up: true\n    }\n\n    changeOpen()\n\n    axios({\n      url: `${API_URL}/vendors/${order.vendor}/orders/${order._id}`,\n      method: 'PATCH',\n      data: data,\n      headers: headers,\n    })\n      .catch((err) => {\n        console.error(err)\n      })\n  }\n\n  useEffect(() => {\n    console.log('Getting Customer Name')\n\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    axios(`${API_URL}/customers/${order.customer}`, {\n        headers,\n    }).then((res) => {\n        setCustomer(res.data)\n    })\n    // Invalid Customer\n    .catch((err) => {\n        console.error(err)\n        console.log(\"Invalid customer\")\n    })\n  }, [])\n\n\n  useEffect(() => {\n    console.log('getting items')\n\n    axios(`${API_URL}/items`).then((res) => {\n      setMenu(res.data)\n    })\n  }, [])\n\n\n  itemDict = dictify(menu)\n\n  if (customer){\n    customer_name = customer.given_name + \" \" + customer.family_name\n  }\n\n\n  return (\n    <Card\n      className={classes.root}\n      style={{ marginBottom: '5px' }}\n    >\n\n    <Accordion expanded={expanded === order._id} onChange={handleChange(order._id)}>\n    {/*Summary of Order Card*/}\n      <AccordionSummary\n        id= {order._id}\n      >\n        <Typography className={classes.heading}>Order #{parseInt(order._id.slice(-4), 16).toString().slice(-4)}</Typography>\n        <Typography className={classes.secondaryHeading}>{customer_name}</Typography>\n      </AccordionSummary>\n\n      {/*Individual Order Cards to be expanded*/}\n      <AccordionDetails>\n      <div style={{ overflowX: \"hidden\", overflowY: \"hidden\" }}>\n        <Container>\n              {/*Customer Details*/}\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle2\" style={{ marginBottom: \"1em\" }}>{stringifyItems(order, itemDict)}</Typography>\n                <Typography variant=\"body2\" style={{ marginBottom: \"1em\" }}>Order Placed : {formatTime(order.modified)}</Typography>\n                <Typography variant=\"body2\" style={{ marginBottom: \"1em\" }}>Order Fulfilled : {formatTime(order.fulfilled_time)}</Typography>\n                <Typography variant=\"body2\" style={{ marginBottom: \"1em\" }}>Discount : {checkDiscount(order) ? \"20\" : \"0\"}%</Typography>\n\n                {/*Button to mark order as fulfilled*/}\n                <Button variant=\"outlined\" style={{marginTop: \"1em\"}} onClick={handlePickUpOrder}>\n                  <Typography variant=\"button\" display=\"block\">\n                    Picked Up\n                  </Typography>\n                </Button>\n\n                <Snackbar\n                  anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n                  open={open}\n                  onClose={handleClose}\n                  message=\"Order marked as picked up!\"\n                />\n\n              </Grid>\n        </Container>\n      </div>\n      </AccordionDetails>\n    </Accordion>\n    </Card>\n  );\n};\n\nexport default FulfilledOrderCard;\n","import { Container, Grid , Typography} from \"@material-ui/core\";\nimport OrderCard from \"../Orders/VendorOrderCard\";\nimport FulfilledOrderCard from '../Orders/FulfilledOrderCard'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport jwt from 'jsonwebtoken'\nimport { API_URL } from '../../constants'\n\n\n// Vendor's page which displays all orders which are ongoing and awaiting pick up \nconst VendorOrders = (props) => {\n  const [orders, setOrders] = useState(null)\n  const { auth, setAuth } = props\n\n  useEffect(() => {\n    console.log('Getting vendor orders')\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    // Update orders every 800 ms\n    const interval = setInterval(() => {\n\n      if (auth) {\n        // Get vendor id from jwt token\n        const vendor_id = auth ? jwt.decode(auth)._id : null\n        console.log(auth)\n        console.log('Vendor id is %s', vendor_id)\n\n        // Get all orders of specific customer (using customer id)\n        axios(`${API_URL}/vendors/${vendor_id}/orders`, {\n          headers,\n        }).then((res) => {\n          setOrders(res.data)\n        })\n      } else {\n        console.log(\"no auth yet, so let's wait until they're logged in\")\n      }\n    }, 800);\n    return () => clearInterval(interval);\n\n  }, [auth])\n\n  if (!auth) {\n    return (\n      <Container>\n        <Typography variant=\"h2\">Order List</Typography>\n        <Typography variant=\"subtitle\">\n          Please log in before viewing your orders!\n        </Typography>\n      </Container>\n    )\n  }\n\n\n  return (\n    <div style={{ overflowX: \"hidden\", overflowY: \"hidden\" }}>\n      <Container>\n        <h1>Order List</h1>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"space-between\"\n          alignItems=\"flex-start\"\n          spacing={2}\n        >\n          <Grid item xs={8}>\n            <Typography variant=\"h6\" style={{ marginTop: \"1em\",marginBottom: \"1em\", marginLeft: \"1em\" }}>\n              Outstanding Orders\n            </Typography>\n            {/*Only display unfulfilled (ongoing) orders. Sort by older orders first*/}\n            {orders == null\n              ? null\n              : orders.length === 0\n              ? 'You have no current or past orders!'\n              : orders\n                  .sort((a, b) => -(new Date(b.modified) - new Date(a.modified)))\n                  .filter(order => !order.fulfilled)\n                  .map((order) => (\n                    <Grid container direction=\"column\" spacing={2}>\n                      <Grid item>\n                        <OrderCard order={order} auth={auth} setAuth={setAuth} />\n                      </Grid>\n                    </Grid>\n\n                  ))}\n\n          </Grid>\n\n          <Grid item xs={4}>\n\n          <Typography variant=\"h6\" style={{ marginTop: \"1em\", marginBottom: \"1em\", arginLeft: \"1em\" }}>\n            Orders Awaiting Pick Up\n          </Typography>\n\n          {/*Only display unfulfilled (ongoing) orders. Sort by older orders first*/}\n          {orders == null\n            ? null\n            : orders.length === 0\n            ? 'You have no current or past orders!'\n            : orders\n                .sort((a, b) => -(new Date(b.modified) - new Date(a.modified)))\n                .filter(order => order.fulfilled && !order.picked_up)\n                .map((order) => (\n                  <Grid container direction=\"column\" spacing={2}>\n                    <Grid item>\n                      <FulfilledOrderCard order={order} auth={auth} setAuth={setAuth} />\n                    </Grid>\n                  </Grid>\n\n                ))}\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n\nexport default VendorOrders;\n","import {\n  Card,\n  CardContent,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Button,\n  Grid,\n  Snackbar,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nimport { API_URL } from '../../constants'\nimport {dictify,\n  formatTime,\n  checkDiscount,\n  formatDateTime\n} from '../../HelperFunctions'\n\n\nconst columns = ['Item', 'Qty', 'Subtotal']\nconst checkmark = '\\uD83D\\uDDF9'\nconst emptyBox = '\\u2610'\n\nconst audFormatter = new Intl.NumberFormat('en-AU', {\n  style: 'currency',\n  currency: 'AUD',\n})\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n})\n\n\n// Fulfilled and Picked Up Orders for Vendor\nconst PastOrderCard = (props) => {\n  const { order , auth, setAuth } = props\n  const [customer, setCustomer] = useState('')\n  const [menu, setMenu] = useState(null)\n  const [open, setOpen] = useState(false)\n  var customer_name = \"\"\n\n  const changeOpen = () => {\n    setOpen((open) => !open)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  var itemDict = {}\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    console.log('Getting Customer')\n\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    axios(`${API_URL}/customers/${order.customer}`, {\n        headers,\n    }).then((res) => {\n        setCustomer(res.data)\n    })\n    // Invalid Customer\n    .catch((err) => {\n        console.error(err)\n        console.log(\"Invalid customer\")\n    })\n  }, [])\n\n  useEffect(() => {\n    console.log('getting items')\n    axios(`${API_URL}/items`).then((res) => {\n      setMenu(res.data)\n    })\n  }, [])\n\n  itemDict = dictify(menu)\n\n  if (customer){\n    customer_name = customer.given_name + \" \" + customer.family_name\n  }\n\n  return (\n    <>\n      <Card\n        className={classes.root}\n        variant=\"outlined\"\n        style={{ marginTop: '20px' }}\n      >\n        {itemDict.length !== 0 && (\n          <CardContent>\n            <Typography\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n              display=\"inline\"\n            >\n              Order{' '}\n            </Typography>\n            <Typography\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n              display=\"inline\"\n              style={{ color: '#FAA545' }}\n            >\n              #{parseInt(order._id.slice(-4), 16).toString().slice(-4)}\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              Ordered by {customer_name}{' '}\n              {order.modified ? `on ${formatDateTime(order.modified)}` : null}\n            </Typography>\n\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              Discount {' '}\n              {checkDiscount(order) ? \"20\" : \"0\"}% applied\n            </Typography>\n\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              Fulfilled at {' '}\n              {order.fulfilled ? `${formatTime(order.fulfilled_time)}` : null}\n            </Typography>\n\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              Picked Up {checkmark}\n            </Typography>\n\n            {Object.keys(itemDict).length !== 0 &&\n              order.items &&\n              Object.keys(order.items).length !== 0 && (\n                <>\n                  <TableContainer>\n                    <Table>\n                      <TableHead>\n                        <TableRow>\n                          {columns.map((column) => (\n                            <TableCell key={column}>{column}</TableCell>\n                          ))}\n                        </TableRow>\n                      </TableHead>\n\n                      {/*Mapping Items*/}\n                      <TableBody>\n                        {Object.keys(order.items).map((id, idx) => (\n                          <TableRow key={idx}>\n                            <TableCell>\n                              {itemDict[order.items[id]['item']]['item_name']}\n                            </TableCell>\n                            <TableCell>{order.items[id].quantity}</TableCell>\n                            <TableCell>\n                              {audFormatter.format(\n                                order.items[id].quantity *\n                                  itemDict[order.items[id]['item']][\n                                    'item_price'\n                                  ],\n                              )}\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                        <TableRow>\n                          <TableCell></TableCell>\n                          <TableCell></TableCell>\n                          <TableCell>\n                            <Typography variant=\"subtitle2\" gutterBottom>\n                              Total:{' '}\n                              {audFormatter.format(\n                                Object.keys(order.items)\n                                  .map(\n                                    (id) =>\n                                      order.items[id].quantity *\n                                      itemDict[order.items[id]['item']][\n                                        'item_price'\n                                      ],\n                                  )\n                                  .reduce((a, b) => a + b),\n                              )}\n                            </Typography>\n                          </TableCell>\n                        </TableRow>\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n                  <br />\n                </>\n              )}\n          </CardContent>\n        )}\n      </Card>\n    </>\n  )\n}\n\nexport default PastOrderCard\n","import { Container, Grid, Typography } from '@material-ui/core'\nimport PastOrderCard from \"../PastOrders/PastOrderCard\";\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { API_URL } from '../../constants'\nimport jwt from 'jsonwebtoken'\n\n\n\n// Vendor's Order History Page (Fulfilled and Picked Up)\nconst VendorPastOrders = (props) => {\n  const [orders, setOrders] = useState(null)\n  const { auth , setAuth} = props\n\n\n  useEffect(() => {\n    console.log('Getting vendor orders')\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    if (auth) {\n      // Get vendor id from jwt token\n      const vendor_id = auth ? jwt.decode(auth)._id : null\n      console.log(auth)\n      console.log('Vendor id is %s', vendor_id)\n\n      // Get all orders of specific customer (using customer id)\n      axios(`${API_URL}/vendors/${vendor_id}/orders`, {\n        headers,\n      }).then((res) => {\n        setOrders(res.data)\n      })\n    } else {\n      console.log(\"no auth yet, so let's wait until they're logged in\")\n    }\n  }, [auth])\n\n  if (!auth) {\n    return (\n      <Container>\n        <Typography variant=\"h2\">Order List</Typography>\n        <Typography variant=\"subtitle\">\n          Please log in before viewing your orders!\n        </Typography>\n      </Container>\n    )\n  }\n\n  return (\n    <Container>\n      <Typography variant=\"h2\">Order History</Typography>\n      {orders == null\n        ? null\n        : orders.length === 0\n        ? 'You have no past orders!'\n        : orders\n            .sort((a, b) => -(new Date(a.modified) - new Date(b.modified)))\n            .filter(order => order.fulfilled && order.picked_up)\n            .map((order) => (\n              <PastOrderCard order={order} auth={auth} setAuth={setAuth}/>\n            ))}\n    </Container>\n  )\n}\n\nexport default VendorPastOrders\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  AppBar,\n  Toolbar,\n  Button,\n  Container,\n  Grid,\n  useMediaQuery,\n  CardMedia,\n} from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport jwt from 'jsonwebtoken'\nimport { API_URL } from '../constants'\nimport axios from 'axios'\nimport { useHistory } from 'react-router'\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    flexGrow: 1,\n    color: 'black',\n  },\n  text: {\n    color: 'black',\n  },\n}))\n\n\nconst NavBar = (props) => {\n  const { auth, setAuth } = props\n  const classes = useStyles()\n\n  const xsMatch = useMediaQuery('(min-width:410px)')\n  const smMatch = useMediaQuery('(min-width:600px)')\n  const sevenFiftyMatch = useMediaQuery('(min-width:750px)')\n\n  const history = useHistory()\n\n\n  const handle_check_out = (event) => {\n    event.preventDefault()\n    console.log('Checked Out')\n    event.preventDefault()\n\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    const data = {\n      ready: false,\n    }\n\n    axios({\n      url: `${API_URL}/vendors/${jwt.decode(auth)._id}`,\n      method: 'PATCH',\n      data: data,\n      headers: headers,\n    })\n\n    .then((res) => {\n      if (res.data){\n        console.log(\"Checking Out of Location for vendor %s\", jwt.decode(auth)._id)\n        console.log(data)\n        // Redirect to orders\n        history.push('/vendor')\n      }\n    })\n\n    .catch((err) => {\n      console.error(err)\n    })\n\n    setAuth(null)\n\n  }\n\n  return (\n    <Container>\n      <div\n        className={classes.root}\n        style={{ backgroundColor: 'white', color: 'white' }}\n        xs={2}\n      >\n        <AppBar\n          position=\"static\"\n          className={classes.appBar}\n          style={{\n            backgroundColor: '#fafafa',\n            boxShadow: 'none',\n            marginTop: '0.5rem',\n          }}\n        >\n          <Toolbar>\n            <Grid\n              container\n              direction={!sevenFiftyMatch ? 'column' : 'row'}\n              alignItems=\"center\"\n              style={{ justifyContent: 'space-between' }}\n            >\n              <Grid\n                item\n                xs={12}\n                sm={4}\n                md={4}\n                lg={4}\n                style={{ display: 'flex' }}\n              >\n                <CardMedia\n                  component={Link}\n                  to=\"/vendor/orders\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <CardMedia\n                    component=\"img\"\n                    image={`/navLogo2.png`}\n                    title=\"Food Truck\"\n                    style={{ height: '80px' }}\n                  />\n                </CardMedia>\n              </Grid>\n\n              <Grid\n                item\n                xs={12}\n                sm={7}\n                md={6}\n                lg={5}\n                style={{\n                  marginTop: '0.5em',\n                  marginBottom: '0.5em',\n                  width: !xsMatch ? '100%' : '',\n                }}\n              >\n\n                {auth && (\n                  <Grid\n                    container\n                    direction={!xsMatch ? 'column' : 'row'}\n                    spacing={!xsMatch ? 1 : 0}\n                    style={{\n                      justifyContent: !sevenFiftyMatch ? 'center' : 'flex-end',\n                      // alignItems: !xsMatch ? 'stretch' : 'center',\n                      alignItems: 'stretch',\n                    }}\n                    justify=\"flex-end\"\n                    // alignItems={!xsMatch ? 'stretch' : 'center'}\n                    alignItems=\"stretch\"\n                  >\n                  <Grid item>\n                    <Button\n                      variant=\"outlined\"\n                      className={classes.text}\n                      size={!smMatch ? 'small' : 'medium'}\n                      style={{ width: !xsMatch ? '100%' : '' }}\n                    >\n                      <Button\n                        component={Link}\n                        to=\"/vendor/orders\"\n                        style={{ textDecoration: 'none' }}\n                      >\n                        Current Orders\n                      </Button>\n                    </Button>\n                  </Grid>\n\n                  <Grid item style={{ marginLeft: !xsMatch ? '0px' : '0.5em' }}>\n                    <Button\n                      variant=\"outlined\"\n                      className={classes.text}\n                      size={!smMatch ? 'small' : 'medium'}\n                      style={{ width: !xsMatch ? '100%' : '' }}\n                    >\n                      <Button\n                        component={Link}\n                        to=\"/vendor/history\"\n                        style={{ textDecoration: 'none' }}\n                      >\n                        Past Orders\n                      </Button>\n                    </Button>\n                  </Grid>\n\n                  <Grid item style={{ marginLeft: !xsMatch ? '0px' : '0.5em' }}>\n                    <Button\n                      variant=\"outlined\"\n                      className={classes.text}\n                      size={!smMatch ? 'small' : 'medium'}\n                      style={{ width: !xsMatch ? '100%' : '' , textDecoration: 'none'}}\n                      onClick={handle_check_out}\n                    >\n                      <Button\n                        style={{ textDecoration: 'none' }}\n                      >\n                      Check Out\n                      </Button>\n                    </Button>\n                  </Grid>\n\n                </Grid>\n                )}\n\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      </div>\n    </Container>\n  )\n}\n\nexport default NavBar\n","import { useState } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport { CssBaseline } from '@material-ui/core'\nimport LoginScreen from './vendor/Pages/LoginScreen'\nimport Checkin from './vendor/Pages/Checkin'\nimport VendorOrders from './vendor/Pages/VendorOrders'\nimport OrderCard from './vendor/Orders/VendorOrderCard'\nimport FulfilledOrderCard from './vendor/Orders/FulfilledOrderCard'\nimport PastOrderCard from \"./vendor/PastOrders/PastOrderCard\"\nimport VendorPastOrders from \"./vendor/Pages/VendorPastOrders\"\nimport NavBar from \"./vendor/Nav\"\n\nfunction VendorApp() {\n  const [auth, setAuth] = useState(null)\n\n  return (\n    <div>\n      <CssBaseline />\n\n      <NavBar auth={auth} setAuth = {setAuth}></NavBar>\n\n      <Switch>\n        <Route\n          exact path=\"/vendor/\"\n          render={(props) => <LoginScreen auth={auth} setAuth = {setAuth}></LoginScreen>}\n        />\n\n        <Route\n          exact path=\"/vendor/checkin\"\n          render={(props) => <Checkin auth={auth} setAuth = {setAuth}></Checkin>}\n        />\n\n        <Route\n          exact path=\"/vendor/orders\"\n          render={(props) => (\n            <VendorOrders {...props} auth={auth} setAuth = {setAuth}></VendorOrders>\n          )}\n        />\n\n        <Route\n          exact path=\"/vendor/history\"\n          render={(props) => <VendorPastOrders auth={auth} setAuth = {setAuth}></VendorPastOrders>\n          }\n        />\n\n\n      </Switch>\n    </div>\n  )\n}\n\nexport default VendorApp\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  AppBar,\n  Toolbar,\n  Button,\n  Container,\n  Grid,\n  useMediaQuery,\n  CardMedia,\n} from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport jwt from 'jsonwebtoken'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    flexGrow: 1,\n    color: 'black',\n  },\n  text: {\n    color: 'black',\n  },\n}))\n\nconst NavBar3 = (props) => {\n  const { order, auth } = props\n  const classes = useStyles()\n\n  const xsMatch = useMediaQuery('(min-width:410px)')\n  const smMatch = useMediaQuery('(min-width:600px)')\n  const sevenFiftyMatch = useMediaQuery('(min-width:750px)')\n\n  return (\n    <Container>\n      <div\n        className={classes.root}\n        style={{ backgroundColor: 'white', color: 'white' }}\n        xs={2}\n      >\n        <AppBar\n          position=\"static\"\n          className={classes.appBar}\n          style={{\n            backgroundColor: '#fafafa',\n            boxShadow: 'none',\n            marginTop: '0.5rem',\n          }}\n        >\n          <Toolbar>\n            <Grid\n              container\n              direction={!sevenFiftyMatch ? 'column' : 'row'}\n              alignItems=\"center\"\n              style={{ justifyContent: 'space-between' }}\n            >\n              <Grid\n                item\n                xs={12}\n                sm={4}\n                md={4}\n                lg={4}\n                style={{ display: 'flex' }}\n              >\n                {/* <Button\n                  component={Link}\n                  to=\"/customer/\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <Logo />\n                </Button>\n\n                <Typography variant=\"h5\" className={classes.title}>\n                  Snacks in a Van!\n                </Typography> */}\n                <CardMedia\n                  component={Link}\n                  to=\"/customer/\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <CardMedia\n                    component=\"img\"\n                    image={`/navLogo2.png`}\n                    title=\"Food Truck\"\n                    style={{ height: '80px' }}\n                  />\n                </CardMedia>\n              </Grid>\n\n              <Grid\n                item\n                xs={12}\n                sm={7}\n                md={6}\n                lg={4}\n                style={{\n                  marginTop: '0.5em',\n                  marginBottom: '0.5em',\n                  width: !xsMatch ? '100%' : '',\n                }}\n              >\n                <Grid\n                  container\n                  direction={!xsMatch ? 'column' : 'row'}\n                  spacing={!xsMatch ? 1 : 0}\n                  style={{\n                    justifyContent: !sevenFiftyMatch ? 'center' : 'flex-end',\n                    // alignItems: !xsMatch ? 'stretch' : 'center',\n                    alignItems: 'stretch',\n                  }}\n                  justify=\"flex-end\"\n                  // alignItems={!xsMatch ? 'stretch' : 'center'}\n                  alignItems=\"stretch\"\n                >\n                  <Grid item>\n                    <Button\n                      variant=\"outlined\"\n                      className={classes.text}\n                      size={!smMatch ? 'small' : 'medium'}\n                      style={{ width: !xsMatch ? '100%' : '' }}\n                    >\n                      <Button\n                        component={Link}\n                        to=\"/customer/\"\n                        style={{ textDecoration: 'none' }}\n                      >\n                        Find a Van\n                      </Button>\n                    </Button>\n                  </Grid>\n                  <Grid item style={{ marginLeft: !xsMatch ? '0px' : '0.5em' }}>\n                    <Button\n                      variant=\"outlined\"\n                      className={classes.text}\n                      size={!smMatch ? 'small' : 'medium'}\n                      style={{ width: !xsMatch ? '100%' : '' }}\n                    >\n                      <Button\n                        component={Link}\n                        to=\"/customer/login\"\n                        style={{ textDecoration: 'none' }}\n                      >\n                        {auth ? jwt.decode(auth).given_name : 'Log in'}\n                      </Button>\n                    </Button>\n                  </Grid>\n                  <Grid item style={{ marginLeft: !xsMatch ? '0px' : '0.5em' }}>\n                    <Button\n                      variant=\"outlined\"\n                      className={classes.text}\n                      size={!smMatch ? 'small' : 'medium'}\n                      style={{ width: !xsMatch ? '100%' : '' }}\n                    >\n                      <Button\n                        component={Link}\n                        to=\"/customer/myorder\"\n                        style={{ textDecoration: 'none' }}\n                      >\n                        My Order{' '}\n                        {order == null ? (\n                          ''\n                        ) : (\n                          <>\n                            (\n                            {Object.keys(order.items)\n                              .map((key) => order.items[key].quantity)\n                              .reduce((a, b) => a + b, 0)}\n                            )\n                          </>\n                        )}\n                      </Button>\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      </div>\n    </Container>\n  )\n}\n\nexport default NavBar3\n","import * as React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Grid,\n  useMediaQuery,\n} from '@material-ui/core'\nimport Ratings from 'react-ratings-declarative'\nimport { Link } from 'react-router-dom'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: 'black',\n  },\n  distanceText: {\n    float: 'right',\n  },\n}))\n\nconst VanCard = (props) => {\n  const styles = useStyles()\n\n  const xsMatch = useMediaQuery('(min-width:410px)')\n\n  const distance =\n    props.distance < 2\n      ? 'Within 2km from you!'\n      : Math.round(props.distance * 10) / 10 + 'km from you'\n\n  // console.log(styles, 'styles')\n\n  return (\n    <Card className={styles.root} classes={{}} style={{ marginTop: '40px' }}>\n      <Card\n        component={Link}\n        to={`/customer/van/${props._id}`}\n        style={{ textDecoration: 'none' }}\n      >\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"space-between\"\n          alignItems=\"center\"\n          spacing={0}\n        >\n          <Grid item xs={12} md={2}>\n            <CardMedia\n              component=\"img\"\n              image={`/foodTrucks/foodTruck${props.number + 1}.jpg`}\n              title=\"Food Truck\"\n            ></CardMedia>\n          </Grid>\n\n          <Grid item xs={12} md={4}>\n            <CardContent>\n              <Typography\n                variant=\"h5\"\n                component=\"h2\"\n                className={styles.content}\n              >\n                {props.title}\n              </Typography>\n              <Typography variant=\"body1\" component=\"p\">\n                {props.simpleLocation}\n              </Typography>\n            </CardContent>\n          </Grid>\n\n          <Grid item md={4} xs={12}>\n            <CardContent>\n              <Ratings\n                rating={parseFloat(props.rating)}\n                widgetDimensions=\"30px\"\n                widgetSpacings=\"8px\"\n              >\n                <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n                <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n                <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n                <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n                <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n              </Ratings>\n            </CardContent>\n          </Grid>\n\n          <Grid item md={2} xs={12}>\n            <CardContent>\n              <Typography\n                variant=\"body1\"\n                component=\"p\"\n                className={styles.distanceText}\n              >\n                {distance} -- {!xsMatch ? 'tap' : 'click'} to view menu!\n              </Typography>\n            </CardContent>\n          </Grid>\n        </Grid>\n      </Card>\n    </Card>\n  )\n}\n\nexport default VanCard\n","import React from 'react'\nimport { Grid, Typography } from '@material-ui/core'\nimport VanCard from './VanCard'\n\n\n// Five nearest vans\nconst NearestVans = (props) => {\n  let { vans } = props\n\n  vans = vans.filter((van) => van.hasOwnProperty('location'))\n\n  return (\n    <Grid container direction=\"column\" justify=\"space-between\" spacing={3}>\n      <Grid item>\n        <Typography variant=\"h6\" component=\"p\">\n          SNACKS near you\n        </Typography>\n\n        {vans.map((van, idx) => (\n          <Grid item key={idx}>\n            <VanCard\n              key={idx}\n              number={idx}\n              title={van.van_name}\n              rating={van.rating}\n              distance={van.distance}\n              simpleLocation={van.location.simple}\n              _id={van._id}\n            ></VanCard>\n          </Grid>\n        ))}\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default NearestVans\n","import { Avatar } from '@material-ui/core'\nimport logo from './favicon-128-2.png'\n\nconst Logo = (props) => {\n    return (\n        <Avatar>\n            <img src={logo} alt=\"logo\" />\n        </Avatar>\n    )\n}\n\nexport default Logo\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJwUExURf+RTf+TUP+STv+RTv+VU/+TUf+zhP/Kqv/Xvv+bXf/Hpf/i0P+VVP+9lP/RtP+aW/+2if+mcP/Psf/JqP+1iP+cX//gzf+wfv/fy//Ipv+lbf/Tt/+5jv/Ipf+reP/Qs//Psv+qdv/FoP+5jf/Ip/+YWP+eYv+4i//aw/+dYf/Amf+dYP/Kqf/dx//Dn/+qdf+ZWv/Stv+tev/q3v/Xv//OsP+oc//Dnv/Qsv/Zwf+WVP++lf+fZP+7kP+0hv+7kf+wgP+XVv+ja/++lv+pc/+4jP+XV//Lqv+mb//Or/+yg/+ST/+6kP+jav+bXv/Cnf+haP+rd//49P/k0//YwP/fzP/69//r3//Fov/28P+UU//9/P/38//8+v////+ocv/+/f+cXv+aXP///v+mbv+hZ/+1h//38v/HpP/+/v/p2//m1v/EoP+WVv/7+P+/l//Rtf/dyf+iaf/Lq/+xgf/u5P/38f+WVf/07f/Nr//Wvf/WvP/GpP/axP+seP/28f/hzv+kbP/x6P/59f/r3v/7+f/8+//u4//o2v/Fof/Nrv+/mP+6j//bxf+ocf/48//v5v/Uuv+0hf+wf//Bmv+2iP+ufP+sef+ncf+xgP+ZW//o2f/t4//x6f/Vuv/s4f/9/f/y6v/Uuf+jaf+ka//Vu//z6//z7P/TuP+fY/+ygv+eY//w5/+pdP/07v+gZf/6+P/59v/t4v/AmP/KqP/En//p3P/9+/+UUv+3i/+zg/+gZv/l1f/k1P/s4P/q3f/m1//y6f/v5f+odP+3iv/cxv/y6/++l/+7kv/Nrf+te//69v+ncP/j0v/gzv/hz+956OIAAAAJcEhZcwAAHYYAAB2GAV2iE4EAAATvaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyI+DQogIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+DQogICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6QXR0cmliPSJodHRwOi8vbnMuYXR0cmlidXRpb24uY29tL2Fkcy8xLjAvIj4NCiAgICAgIDxBdHRyaWI6QWRzPg0KICAgICAgICA8cmRmOlNlcT4NCiAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4NCiAgICAgICAgICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIxLTAzLTE1PC9BdHRyaWI6Q3JlYXRlZD4NCiAgICAgICAgICAgIDxBdHRyaWI6RXh0SWQ+Y2I3NzI4MTQtZGUxMC00NmMyLWIwMzEtMWEyNzhlMjM3NTZlPC9BdHRyaWI6RXh0SWQ+DQogICAgICAgICAgICA8QXR0cmliOkZiSWQ+NTI1MjY1OTE0MTc5NTgwPC9BdHRyaWI6RmJJZD4NCiAgICAgICAgICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+DQogICAgICAgICAgPC9yZGY6bGk+DQogICAgICAgIDwvcmRmOlNlcT4NCiAgICAgIDwvQXR0cmliOkFkcz4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPg0KICAgICAgPGRjOnRpdGxlPg0KICAgICAgICA8cmRmOkFsdD4NCiAgICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPnNuYWNrcyBpbiBhIHZhbjwvcmRmOmxpPg0KICAgICAgICA8L3JkZjpBbHQ+DQogICAgICA8L2RjOnRpdGxlPg0KICAgIDwvcmRmOkRlc2NyaXB0aW9uPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnBkZj0iaHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLyI+DQogICAgICA8cGRmOkF1dGhvcj5XSVNFPC9wZGY6QXV0aG9yPg0KICAgIDwvcmRmOkRlc2NyaXB0aW9uPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+DQogICAgICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+DQogICAgPC9yZGY6RGVzY3JpcHRpb24+DQogIDwvcmRmOlJERj4NCjwveDp4bXBtZXRhPg0KPD94cGFja2V0IGVuZD0iciI/Pp8DAj4AAAQgSURBVHhe7dj9X1NVHAfw7+422YqEGAs0RZSYDVYghRWSOBNDBtZAVjh3HKJDspYJK4xC55paPlBhz2LZA6iZJaWlPS0jS3v6lzpPo+ugwB8699Xr9X3z4pzvOffw2ud17919ABBCCCGEEEIIIYQQQgghhBBCCCGEEEII6ZkANPrDevZrTteaxSo2iKFhZmVlgc1+g6bdmA03Zc3Oyb05z+Rw5AM4bymAQuscumTurWKpMebNL4IFxQ5t4aIS621Q6lp8uxuKy8rpFg/AHXc6aDFnfilfaoyKyiXZnqq7tDzH3Vq1qWLp4ntKoMp5L91CA3rK7gOoKaxeJtYaotZzPyyHOlM+rPCu9DygrXLWr571YAOAe00jLPc10SPcDLlyMfo/WrvsoemVPSxXq+dvaV03vbaAUWeh+ZFHZTWZWftbbvt6OauYJeiS1STeDSEdslFOK2YJd8hqkk2dm7dQkS7WbmnbKqcV+7eA3V7WbWw3s67uMdaqN33ApSKgPeRmnXIz3oOwzZjb3Yz3IDzexjvVWEBvh4UWHU/QTM10ymsHWN1hzQzYHOVD1VjAJ0kewHZSAvBUeAdAT3cv5BF/5iHWYhHeK8YCVgaetjzT0lUD5UFSTQOSvhxdwPQehJ3Pil4tfg72k/omQp8AnyNhGrOHkOenCjiwy4gnfx6wghTu7o6Db0+imNTRgCGyZ4qApl1FolCKB9ReSO7dBlBA9m0n+2nAF0Nk8jkIYHtJFirxgHCAkIMAhwhzuIcULNIFnNiDkB+ThUoiYGlgsAbWhl72+x3kFRrQ18oCdr46RB1pYS3zWmd9g/LTUASE198AKI+8SS+CkbfiETs4I29D9jtHM8USfQf4i7I6MuBMmRqHj8lSkesMSF/n++jZqtB1B4Smd9NfGiV0ATWv9x8+2qzfUtm9SVZKTARssPWF3zv+/gdipPfhRyPh8Gj/XDmE0BRr/jsyoG9N9MSQ6+QpW3Rrxl7UHMn+3o9dQ8eiPT4xkzQi4InTcT6ET854RJG2c5RefJiG48WiMCJg7uCnYgiw+bMqWXG9Z1fKCnYkGnlvQEBt7HM5pL5olQW3X/fafO487wwIGE/yu67gDtMn6rTaL3Vf2cog389qA361l37ohWteKUd0x/jUNc8HYxdpYw1+LUaKfDNbg6Zv5YD7jsWQIt/LgkvV0+bcaaUXamj+YTh1KZDSCY3JgjqalAUXjaVSsTM/yr9UJbt3fHz8p320YS5ctslKWjcsi/FLh1i7gr78GcCVmCeKI+05okizd/0sil8GjfnXgtQYuOIGc+2SxICcmHD17IKTZnBV/zokJwzy2+/By6PBQvpenCn+R3B0JPjnxL3YMM4Bf8bhTbMXFemujQghhBBCCCGEEEIIIYQQQgghhBBCCCGkBMBfNSlK+lp6SxkAAAAASUVORK5CYII=\"","import { useState, useEffect } from 'react'\nimport ReactMapGL, { Source, Layer, Marker } from 'react-map-gl'\nimport Logo from '../Logo/Logo'\n\nconst userLocationStyle = {\n  id: 'point',\n  type: 'circle',\n  paint: {\n    'circle-radius': 10,\n    'circle-color': '#007cbf',\n  },\n}\n\nconst VanMap = (props) => {\n  const { vans, location } = props\n\n  const [viewport, setViewport] = useState({\n    width: 'fit',\n    height: '50vh',\n    latitude: -37.80435,\n    longitude: 144.96296,\n    zoom: 14,\n    bearing: 0,\n    pitch: 0,\n  })\n\n  useEffect(() => {\n    if (location != null) {\n      setViewport({\n        ...viewport,\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude,\n      })\n    }\n  }, [location])\n\n  return (\n    <div style={{ borderRadius: '10px' }}>\n      <ReactMapGL\n        {...viewport}\n        mapStyle=\"mapbox://styles/mapbox/light-v9\"\n        style={{ borderRadius: '50px' }}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n        onViewportChange={(nextViewport) => setViewport(nextViewport)}\n      >\n        {/* {markers.map((marker) => (\n          <Marker latitude={marker.latitude} longitude={marker.longitude}>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n              spacing={0}\n            >\n              <Grid item>\n                <Logo style={{ width: '50%' }}></Logo>\n              </Grid>\n              <Grid item xs={1}></Grid>\n              <Grid item>\n                <Card style={{ height: '50px' }}>\n                  <CardContent>\n                    <Typography variant=\"h6\">{marker.label}</Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n            </Grid>\n\n            <div style={{ backgroundColor: 'white' }}>\n              \n            </div>\n          </Marker>\n        ))} */}\n        {vans !== null\n          ? vans\n              .filter((van) => van.hasOwnProperty('location'))\n              .map((van) => ({\n                latitude: parseFloat(van.location.lat),\n                longitude: parseFloat(van.location.long),\n                label: van.van_name,\n              }))\n              .map((marker) => (\n                <Marker\n                  latitude={marker.latitude}\n                  longitude={marker.longitude}\n                  key={marker.label}\n                >\n                  <Logo></Logo>\n                </Marker>\n              ))\n          : ''}\n        ==\n        {location == null ? (\n          ''\n        ) : (\n          <Source\n            id=\"userLocation\"\n            type=\"geojson\"\n            data={{\n              type: 'FeatureCollection',\n              features: [\n                {\n                  type: 'Feature',\n                  geometry: {\n                    type: 'Point',\n                    coordinates: [\n                      location.coords.longitude,\n                      location.coords.latitude,\n                      // 145.0224,\n                      // -37.8586,\n                      // 144.96296,\n                      // -37.80435,\n                    ],\n                  },\n                },\n              ],\n            }}\n          >\n            <Layer {...userLocationStyle} />\n          </Source>\n        )}\n        {/* <Source\n          id=\"userLocation\"\n          type=\"geojson\"\n          data={{\n            type: 'FeatureCollection',\n            features: [\n              {\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [\n                    // location.coords.longitude,\n                    // location.coords.latitude,\n                    145.0224,\n                    -37.8586,\n                    // 144.96296,\n                    // -37.80435,\n                  ],\n                },\n              },\n            ],\n          }}\n        >\n          <Layer {...userLocationStyle} />\n        </Source> */}\n      </ReactMapGL>\n    </div>\n  )\n}\n\nexport default VanMap\n","import { Container, Typography } from '@material-ui/core'\nimport { useEffect } from 'react'\nimport NearestVans from '../SplashPage/NearestVans'\nimport VanMap from '../SplashPage/VanMap'\nimport axios from 'axios'\nimport { API_URL } from '../../constants'\n\nconst VAN_LIMIT = 5\n\nconst SplashPage = (props) => {\n  const { location, setLocation, vans, setVans } = props\n\n  // Get Vans\n  useEffect(() => {\n    if (location && !vans) {\n      console.log('getting vans')\n      const headers = { 'Access-Control-Allow-Origin': '*' }\n\n      axios(\n        `${API_URL}/vendors?lat=${location.coords.latitude}&long=${location.coords.longitude}&limit=${VAN_LIMIT}`,\n        {\n          headers,\n        },\n      )\n        .then((res) => {\n          // console.log(res)\n          setVans(res.data)\n        })\n        .catch((err) => {\n          console.error(err)\n        })\n    }\n  }, [location])\n\n  // Get Geolocation\n  useEffect(() => {\n    if (!location) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        console.log(\n          `got location lat ${position.coords.latitude} long ${position.coords.longitude}`,\n        )\n        setLocation(position)\n      })\n    }\n    if (!location) {\n      setLocation({ coords: { latitude: -37.80435, longitude: 144.96296 } })\n    }\n  }, [])\n\n  return (\n    <div\n      style={{\n        background: `url(${process.env.PUBLIC_URL}/SplashPageBackground2.jpg)`,\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundAttachment: 'scroll',\n        position: 'relative',\n        display: 'block',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        height: '700px',\n        width: '90%',\n      }}\n    >\n      <Container>\n        <Typography\n          variant=\"h3\"\n          style={{ color: 'white', paddingTop: '50px' }}\n          fontWeight=\"bold\"\n        >\n          Get your SNACKS\n        </Typography>\n        <Typography\n          variant=\"h3\"\n          style={{\n            color: 'white',\n            paddingTop: '20px',\n            paddingBottom: '40px',\n          }}\n          fontWeight=\"bold\"\n        >\n          from a VAN\n        </Typography>\n        <Typography\n          variant=\"h5\"\n          style={{\n            color: 'white',\n          }}\n          fontStyle=\"italic\"\n        >\n          find us all over Melbourne\n        </Typography>\n        <Typography\n          variant=\"h5\"\n          style={{\n            color: 'white',\n            paddingBottom: '60px',\n          }}\n          fontStyle=\"italic\"\n        >\n          search for vans near you and order now for an easy pick-up!\n        </Typography>\n\n        {/* <form\n          autoComplete=\"off\"\n          noValidate\n          style={{\n            width: '100%',\n            marginLeft: 'auto',\n            paddingBottom: '50px',\n          }}\n        >\n          <TextField\n            defaultValue=\"Enter a location\"\n            variant=\"outlined\"\n            style={{\n              width: '50%',\n              background: 'white',\n              marginLeft: 'auto',\n              // paddingLeft: 'auto',\n              marginRight: 'auto',\n              borderRadius: '8px',\n              size: 'large',\n            }}\n          />\n          {/* <Button>Find my location!</Button> }\n        </form> */}\n        <br></br>\n        <Typography\n          variant=\"body\"\n          style={{\n            color: 'white',\n          }}\n          fontStyle=\"italic\"\n        >\n          Your Location:{' '}\n          {location == null\n            ? 'No location, please enable location in your browser!'\n            : `(${Math.round(location.coords.latitude * 10000) / 10000}, ${\n                Math.round(location.coords.longitude * 10000) / 10000\n              })`}\n        </Typography>\n\n        <VanMap vans={vans} location={location}></VanMap>\n        <br />\n        <br />\n        {vans === null ? '' : <NearestVans vans={vans}></NearestVans>}\n        <br />\n      </Container>\n    </div>\n  )\n}\n\nexport default SplashPage\n","import {\n  Button,\n  Container,\n  Grid,\n  TextField,\n  Typography,\n  Snackbar,\n} from '@material-ui/core'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport jwt from 'jsonwebtoken'\nimport { useHistory } from 'react-router'\nimport { API_URL } from '../../constants'\nimport React from 'react';\nimport Link from '@material-ui/core/Link';\n\n\nconst Login = (props) => {\n  const { auth, setAuth } = props\n  const [open, setOpen] = useState(false)\n  const [invalid, setInvalid] = useState(false)\n  const history = useHistory()\n\n\n  // To handle pop up\n  const changeOpen = () => {\n    setOpen((open) => !open)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n    setInvalid(false)\n  }\n\n  const changeOpenInvalid = () => {\n    setInvalid((invalid) => !invalid)\n  }\n\n\n  const handle_log_out = (event) => {\n    event.preventDefault()\n    setAuth(null)\n    console.log('Logged Out')\n  }\n\n\n  const handle_form_submit = (event) => {\n    event.preventDefault()\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n    }\n\n    const data = {\n      email: event.target.email.value,\n      password: event.target.password.value,\n    }\n\n    axios({\n      url: `${API_URL}/customers/login`,\n      method: 'POST',\n      data: data,\n      headers: headers,\n    })\n\n      .then((res) => {\n        setAuth(res.data)\n        const cst = jwt.decode(res.data)\n        if (cst) {\n          console.log(res.data)\n          console.log(cst)\n          // Redirect successful login to my order page\n          history.push('/customer/myorder')\n\n        } else console.err('Invalid token')\n      })\n\n      // Invalid login\n      .catch((err) => {\n        console.error(err)\n\n        console.log(\"Invalid login\")\n        history.push('/customer/login')\n      })\n  }\n\n\n  const handle_change_details = (event) => {\n    event.preventDefault()\n\n    history.push('/customer/login')\n\n    const headers = {\n     'Access-Control-Allow-Origin': '*',\n     'Authorization': `Bearer ${auth}`,\n   }\n\n   if (event.target.password.value != \"\"){\n     const data = {\n       given_name: event.target.given_name.value,\n       family_name: event.target.family_name.value,\n       email: event.target.email.value,\n       password: event.target.password.value,\n     }\n\n     // PATCH modified customer details\n     axios({\n       url: `${API_URL}/customers/${jwt.decode(auth)._id}`,\n       method: 'PATCH',\n       data: data,\n       headers: headers,\n     })\n\n     .then((res) => {\n       if (res.data){\n         console.log(\"Change details for customer %s\", jwt.decode(auth)._id)\n         console.log(data)\n\n         changeOpen() // Pop up notification\n       }\n     })\n\n     .catch((err) => {\n       console.error(err)\n     })\n   }else{\n     console.log(\"Requires password!\")\n     changeOpenInvalid() // Pop up asks for password\n   }\n  }\n\n  return (\n    <Container>\n      {auth ? (\n        <>\n        <Typography variant=\"h3\">Account Details</Typography>\n        <br/>\n        <Typography variant=\"subtitle\">\n        You are logged in as {jwt.decode(auth).given_name} {jwt.decode(auth).family_name}.\n        </Typography>\n        <br/>\n\n        <Button\n          component={Link}\n          variant=\"outlined\"\n          to=\"/customer/login\"\n          style={{ textDecoration: 'none' }}\n        >\n          <Typography variant=\"button\" display=\"block\" onClick={handle_log_out}>\n            Log Out\n          </Typography>\n        </Button>\n        <br/>\n        <br/>\n\n              <form noValidate autoComplete=\"off\" onSubmit={handle_change_details}>\n                <Grid container direction=\"row\">\n                <Grid item style={{ marginTop: '1em' }}>\n                  <TextField\n                    required\n                    name=\"given_name\"\n                    label=\"Given Name\"\n                    defaultValue= {jwt.decode(auth).given_name}\n                    variant=\"filled\"\n                  />\n                </Grid>\n                <Grid item style={{ marginTop: '1em' , marginLeft:'0.5em'}}>\n                  <TextField\n                    required\n                    name=\"family_name\"\n                    label=\"Family Name\"\n                    defaultValue= {jwt.decode(auth).family_name}\n                    variant=\"filled\"\n                  />\n                </Grid>\n                </Grid>\n\n                <Grid container direction=\"row\">\n                  <Grid item style={{ marginTop: '0.5em' }}>\n                    <TextField\n                      required\n                      name=\"email\"\n                      label=\"Email Address\"\n                      defaultValue= {jwt.decode(auth).email}\n                      variant=\"filled\"\n                    />\n                  </Grid>\n                  <Grid item style={{ marginTop: '0.5em' , marginLeft:'0.5em'}}>\n                    <TextField\n                      required\n                      name=\"password\"\n                      type=\"password\"\n                      label=\"Password\"\n                      defaultValue= {jwt.decode(auth).password}\n                      variant=\"filled\"\n                    />\n                  </Grid>\n                </Grid>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disableElevation\n                  style={{ marginTop: '1em' }}\n                >\n                  Change Profile Details\n                </Button>\n\n                <Snackbar\n                  anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n                  open={open}\n                  onClose={handleClose}\n                  message=\"Changed Profile Details!\"\n                />\n\n              </form>\n            </>\n      ) : (\n        <>\n          <Typography variant=\"h3\">Welcome Back!</Typography>\n          <br/>\n          <Typography variant=\"subtitle\">\n            Please log in before confirming your order.\n          </Typography>\n\n          {/*Form for login*/}\n          <form noValidate autoComplete=\"off\" onSubmit={handle_form_submit}>\n            <Grid container direction=\"column\">\n              <Grid item style={{ marginTop: '1em' }}>\n                <TextField\n                  required\n                  name=\"email\"\n                  label=\"Email Address\"\n                  variant=\"outlined\"\n                />\n              </Grid>\n              <Grid item style={{ marginTop: '1em' }}>\n                <TextField\n                  required\n                  name=\"password\"\n                  type=\"password\"\n                  label=\"Password\"\n                  variant=\"outlined\"\n                />\n              </Grid>\n            </Grid>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disableElevation\n              style={{ marginTop: '1em' , marginBottom: '1em'}}\n            >\n              Sign in\n            </Button>\n          </form>\n\n          {/*Link to Customer Registration Page*/}\n          <Link\n            variant=\"body2\"\n            href=\"/customer/registration\"\n          >\n            New to Snacks In A Van? Create an account.\n          </Link>\n        </>\n      )}\n\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={invalid}\n        onClose={handleClose}\n        message=\"Please input a password! (You can input a new password).\"\n      />\n\n    </Container>\n  )\n}\n\nexport default Login\n","import {\n  Button,\n  Container,\n  Grid,\n  TextField,\n  Typography,\n} from '@material-ui/core'\n\nimport axios from 'axios'\nimport jwt from 'jsonwebtoken'\nimport { useHistory } from 'react-router'\nimport { API_URL } from '../../constants'\n\n\nconst Registration = (props) => {\n  const { auth } = props\n\n  const history = useHistory()\n\n  const handle_form_submit = (event) => {\n    event.preventDefault()\n\n    history.push('/customer/login')\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n    }\n\n    const data = {\n      given_name: event.target.given_name.value,\n      family_name: event.target.family_name.value,\n      email: event.target.email.value,\n      password: event.target.password.value,\n    }\n\n    // POST customer registration data to API\n    // Creates a new customer\n    axios({\n      url: `${API_URL}/customers`,\n      method: 'POST',\n      data: data,\n      headers: headers,\n    })\n\n    .then(() => {\n      if (data){\n        console.log(\"Create new customer\")\n        console.log(data)\n      }\n    })\n\n    .catch((err) => {\n      console.error(err)\n    })\n  }\n\n  return (\n    <Container>\n      <Typography variant=\"h3\">Create an account.</Typography>\n      <br/>\n      {auth ? (\n        `You are logged in as ${jwt.decode(auth).given_name} ${\n          jwt.decode(auth).family_name\n        }`\n      ) : (\n        <>\n          <Typography variant=\"subtitle\">\n            Please register to start ordering.\n          </Typography>\n          <form noValidate autoComplete=\"off\" onSubmit={handle_form_submit}>\n            <Grid container direction=\"row\">\n            <Grid item style={{ marginTop: '1em' }}>\n              <TextField\n                required\n                name=\"given_name\"\n                label=\"Given Name\"\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item style={{ marginTop: '1em' , marginLeft:'0.5em'}}>\n              <TextField\n                required\n                name=\"family_name\"\n                label=\"Family Name\"\n                variant=\"outlined\"\n              />\n            </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\">\n              <Grid item style={{ marginTop: '0.5em' }}>\n                <TextField\n                  required\n                  name=\"email\"\n                  label=\"Email Address\"\n                  variant=\"outlined\"\n                />\n              </Grid>\n              <Grid item style={{ marginTop: '0.5em' , marginLeft:'0.5em'}}>\n                <TextField\n                  required\n                  name=\"password\"\n                  type=\"password\"\n                  label=\"Password\"\n                  variant=\"outlined\"\n                />\n              </Grid>\n            </Grid>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disableElevation\n              style={{ marginTop: '1em' }}\n            >\n              Register\n            </Button>\n          </form>\n        </>\n      )}\n    </Container>\n  )\n}\n\nexport default Registration\n","import {\n  Container,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Button,\n  Grid\n} from '@material-ui/core'\nimport axios from 'axios'\nimport { API_URL } from '../../constants'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\nimport { useState } from 'react'\n\nconst columns = ['Item', 'Qty', 'Subtotal']\n\nconst audFormatter = new Intl.NumberFormat('en-AU', {\n  style: 'currency',\n  currency: 'AUD',\n})\n\n\n// Shopping Cart Page where customer reviews and confirms current order\nconst MyOrder = (props) => {\n  const { order, setOrder, auth } = props\n  const history = useHistory()\n  const [confirmed, setConfirmed] = useState(false)\n  const [cancelled, setCancelled] = useState(false)\n\n\n  // If customer cancels order\n  const handleCancelOrder = (e) => {\n    e.preventDefault()\n\n    // Clear order (items are empty)\n    setOrder({ items: {}, confirmed: false })\n    console.log('cleared order')\n\n  }\n\n\n  // If customer confirms order\n  const handleConfirmOrder = (e) => {\n    e.preventDefault()\n\n    // If customer has not logged in\n    if (!auth) {\n      console.log('please log in')\n      history.push('/customer/login') // direct to login page\n      return\n    }\n\n    // Store order\n    setOrder({ ...order, confirmed: true })\n\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      Authorization: `Bearer ${auth}`,\n    }\n\n    // POST order to database so it appears on vendor's end\n    const newItems = Object.keys(order.items).map((key) => ({\n      ...order.items[key],\n      item: key,\n    }))\n\n    const data = { items: newItems }\n\n    axios\n      .post(`${API_URL}/vendors/${order.vendor}/orders`, data, {\n        headers,\n      })\n      .then((res) => {\n        setOrder({ items: {}, confirmed: false })\n        console.log('cleared order')\n        console.log(res)\n      })\n      .catch((err) => {\n        console.error(err)\n      })\n  }\n\n\n  return (\n    <Container>\n\n    {/*If order exists, display table with item names, quantity and price*/}\n      <Typography variant=\"h2\">My Order</Typography>\n      {order && order.items && Object.keys(order.items).length !== 0 ? (\n        <>\n          <TableContainer>\n            <Table>\n              <TableHead>\n              {/*Render columns*/}\n                <TableRow>\n                  {columns.map((column) => (\n                    <TableCell key={column}>{column}</TableCell>\n                  ))}\n                </TableRow>\n              </TableHead>\n\n              {/*Render item names and quantities*/}\n              <TableBody>\n                {Object.keys(order.items).map((id, idx) => (\n                  <TableRow key={idx}>\n                    <TableCell>{order.items[id].item_name}</TableCell>\n                    <TableCell>{order.items[id].quantity}</TableCell>\n                    <TableCell>\n                      {audFormatter.format(\n                        order.items[id].quantity * order.items[id].item_price,\n                      )}\n                    </TableCell>\n                  </TableRow>\n                ))}\n                <TableRow>\n                  <TableCell></TableCell>\n                  <TableCell></TableCell>\n\n                  <TableCell>\n                  {/*Format price*/}\n                    <Typography variant=\"subtitle2\" gutterBottom>\n                      Total:{' '}\n                      {audFormatter.format(\n                        Object.keys(order.items)\n                          .map(\n                            (id) =>\n                              order.items[id].quantity *\n                              order.items[id].item_price,\n                          )\n                          .reduce((a, b) => a + b),\n                      )}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <br />\n\n          <Grid container style={{ justifyContent: 'space-around' }}>\n\n          {/*Cancel Button*/}\n            <Grid item>\n              <Button variant=\"outlined\" onClick={handleCancelOrder}>\n                <Typography variant=\"button\" display=\"block\" gutterBottom>\n                  Cancel Order\n                </Typography>\n              </Button>\n            </Grid>\n\n            {/*Edit Order Button, redirects customer back to van's menu*/}\n            <Grid item>\n              <Button variant=\"outlined\">\n                <Button\n                  component={Link}\n                  to={`/customer/van/${order.vendor}`}\n                  style={{ textDecoration: 'none' }}\n                >\n                  Edit Order Details\n                </Button>\n              </Button>\n            </Grid>\n\n            {/*Confirm Order Button*/}\n            <Grid item>\n              <Button variant=\"outlined\" onClick={handleConfirmOrder}>\n                <Typography variant=\"button\" display=\"block\" gutterBottom>\n                  Confirm Order\n                </Typography>\n              </Button>\n              {order.confirmed ? <Redirect to=\"/customer/orders\" /> : null}\n            </Grid>\n          </Grid>\n        </>\n      ) : (\n        <>\n\n        {/*If there is no order yet*/}\n\n          <Typography\n            variant=\"subtitle\"\n            display=\"block\"\n            style={{ marginBottom: '2rem' }}\n          >\n            Your order is empty! Try finding a van to start ordering snacks.\n          </Typography>\n\n          {/*Order History Button, redirects to page with all previous orders*/}\n          <Button variant=\"outlined\">\n            <Button\n              component={Link}\n              to=\"/customer/orders\"\n              style={{ textDecoration: 'none' }}\n            >\n              <Typography variant=\"button\" display=\"block\">\n                Order History\n              </Typography>\n            </Button>\n          </Button>\n        </>\n      )}\n    </Container>\n  )\n}\n\nexport default MyOrder\n","import {\n  Typography,\n  Card,\n  Grid,\n  CardMedia,\n  Button,\n  CardContent,\n  CardActions,\n} from '@material-ui/core'\n\n\n// Snacks on Menu to be Ordered \nconst MenuItem = (props) => {\n  const { menuItem, order, setOrder, vendor } = props\n\n  const handleAddToOrder = (e) => {\n    e.preventDefault()\n    console.log(`add ${menuItem.item_name} to order`)\n\n    // Is this item already in the items array?\n    let newOrder = JSON.parse(JSON.stringify(order))\n    const _id = menuItem._id\n    if (newOrder.items.hasOwnProperty(menuItem._id)) {\n      // Increment it's quantity\n      newOrder.items[_id].quantity++\n      setOrder(newOrder)\n    } else {\n      // Add a new item to items with quantity 1\n      let newItems = JSON.parse(JSON.stringify(newOrder.items))\n      const { item_price, item_name } = menuItem\n      newItems[_id] = { quantity: 1, item_price, item_name }\n      newOrder = {\n        ...newOrder,\n        items: newItems,\n        vendor: vendor,\n      }\n      setOrder(newOrder)\n    }\n\n    console.log(order)\n  }\n\n  const handleRemoveFromOrder = (e) => {\n    e.preventDefault()\n    console.log(`remove 1 ${menuItem.item_name} from order`)\n\n    // Is this item already in the items array?\n    let newOrder = JSON.parse(JSON.stringify(order))\n    const _id = menuItem._id\n    if (newOrder.items.hasOwnProperty(menuItem._id)) {\n      if (newOrder.items[menuItem._id].quantity > 0) {\n        // Decrement it's quantity\n        newOrder.items[_id].quantity--\n      }\n\n      // remove the item if it's quantity is 0\n      if (newOrder.items[menuItem._id].quantity === 0) {\n        delete newOrder.items[menuItem._id]\n      }\n\n      setOrder(newOrder)\n    } else {\n      console.log(\"removed an item that doesn't exist in the order\")\n    }\n\n    console.log(order)\n  }\n\n  return (\n    <Grid item>\n      <Card variant=\"outlined\" style={{ width: '100%' }}>\n        <CardMedia\n          component=\"img\"\n          image={`http://${menuItem.item_image_url}`}\n          title=\"Menu Item\"\n        />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {menuItem.item_name}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            ${menuItem.item_price}\n          </Typography>\n          <Typography\n            variant=\"body2\"\n            color=\"textSecondary\"\n            component=\"p\"\n            style={\n              order.items[menuItem._id]\n                ? order.items[menuItem._id].quantity > 0\n                  ? { color: '#e69705' }\n                  : {}\n                : {}\n            }\n          >\n            {order.items[menuItem._id] ? order.items[menuItem._id].quantity : 0}{' '}\n            in current order\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button style={{ margin: 'auto' }} onClick={handleAddToOrder}>\n            <Typography variant=\"button\" display=\"block\" gutterBottom>\n              Add to Order\n            </Typography>\n          </Button>\n        </CardActions>\n        <CardActions>\n          <Button style={{ margin: 'auto' }} onClick={handleRemoveFromOrder}>\n            <Typography variant=\"button\" display=\"block\" gutterBottom>\n              Remove from Order\n            </Typography>\n          </Button>\n        </CardActions>\n      </Card>\n    </Grid>\n  )\n}\n\nexport default MenuItem\n","import { Container, Typography, Grid , Button } from '@material-ui/core'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { API_URL } from '../../constants'\nimport Ratings from 'react-ratings-declarative'\nimport MenuItem from '../VanDetails/MenuItem'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\n\n\n\nconst VanDetails = (props) => {\n  const { auth, vans, menu, setMenu, order, setOrder } = props\n  const id = props.match.params.id\n  const [vanData, setVanData] = useState(null)\n  const history = useHistory()\n\n\n  // Customer cancels order\n  const handleCancelOrder = (e) => {\n    e.preventDefault()\n    setOrder({ items: {}, confirmed: false })\n    console.log('cleared order')\n  }\n\n\n  useEffect(() => {\n    if (!vanData) {\n      if (vans) {\n        // Get the van from vans with the same ID\n        const vansWithCorrectName = vans.filter((van) => van._id === id)\n        if (vansWithCorrectName.length !== 0) {\n          console.log('found this van without needing another API call')\n          setVanData(vansWithCorrectName[0])\n        }\n      } else {\n        // Try to get the van information from the API\n        console.log('getting individual van data')\n        const headers = { 'Access-Control-Allow-Origin': '*' }\n\n        axios(`${API_URL}/vendors/${id}`, {\n          headers,\n        })\n          .then((res) => {\n            let data = res.data\n            setVanData(data)\n          })\n          .catch((err) => {\n            console.error(err)\n          })\n      }\n    }\n  }, [vanData, vans, id])\n\n  useEffect(() => {\n    if (!menu) {\n      console.log('getting menu')\n      const headers = { 'Access-Control-Allow-Origin': '*' }\n\n      axios(`${API_URL}/items`, {\n        headers,\n      })\n        .then((res) => {\n          setMenu(res.data)\n        })\n        .catch((err) => {\n          console.error(err)\n        })\n    }\n  }, [])\n\n  return (\n    <Container>\n      {vanData === null || vanData === undefined ? (\n        <Typography variant=\"h3\">Van Details Loading...</Typography>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n          <Typography variant=\"h3\">{vanData.van_name}</Typography>\n          <Typography\n            variant=\"body\"\n            display=\"block\"\n            style={{ marginBottom: '1rem' }}\n          >\n            {!isNaN(vanData.distance)\n              ? `This van is ${Math.round(vanData.distance * 10) / 10}km away!`\n              : null}\n          </Typography>\n          <Ratings rating={vanData.rating} widgetDimensions=\"30px\" widgetSpacings=\"8px\">\n            <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n            <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n            <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n            <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n            <Ratings.Widget widgetRatedColor=\"orange\"></Ratings.Widget>\n          </Ratings>\n\n          {menu === null ? (\n            ''\n          ) : (\n            <>\n              <Grid\n                container\n                direction=\"row\"\n                spacing={2}\n                style={{ marginTop: '2rem' }}\n              >\n              {/* Display all items on vendor's menu*/}\n\n                {menu.map((menuItem, idx) => (\n                  <Grid item xs={12} sm={6} md={4} lg={3} key={idx}>\n                    <MenuItem\n                      key={idx}\n                      menuItem={menuItem}\n                      order={order}\n                      setOrder={setOrder}\n                      vendor={vanData._id}\n                    />\n                  </Grid>\n                ))}\n              </Grid>\n            </>\n          )}\n        </div>\n      )}\n\n      <br />\n\n      <Grid container style={{ justifyContent: 'space-around' }}>\n\n        <Grid item>\n          <Button variant=\"outlined\" onClick={handleCancelOrder}>\n            <Typography variant=\"button\" display=\"block\" gutterBottom>\n              Cancel Order\n            </Typography>\n          </Button>\n        </Grid>\n\n        <Grid item>\n          <Button variant=\"outlined\"\n            component={Link}\n            to=\"/customer/myorder\"\n            style={{ textDecoration: 'none' }}>\n            <Typography variant=\"button\" display=\"block\" gutterBottom>\n              Review Order\n            </Typography>\n          </Button>\n          {order.confirmed ? <Redirect to=\"/customer/orders\" /> : null}\n        </Grid>\n\n      </Grid>\n      <br/ >\n    </Container>\n  )\n}\n\nexport default VanDetails\n","import {\n  Card,\n  CardContent,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Button,\n  Grid,\n  Snackbar,\n  Box,\n  TextField,\n  ThemeProvider\n} from '@material-ui/core'\nimport Rating from '@material-ui/lab/Rating'\nimport theme from '../../theme';\nimport { withStyles } from '@material-ui/core/styles'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nimport { API_URL } from '../../constants'\nimport { dictify ,\n  formatDateTime ,\n  checkModifyWindow} from '../../HelperFunctions'\n\nconst columns = ['Item', 'Qty', 'Subtotal']\nconst checkmark = '\\uD83D\\uDDF9'\nconst emptyBox = '\\u2610'\n\n\nconst audFormatter = new Intl.NumberFormat('en-AU', {\n  style: 'currency',\n  currency: 'AUD',\n})\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n})\n\nconst StyledRating = withStyles({\n  iconFilled: {\n    color: '#ff6d75',\n  },\n  iconHover: {\n    color: '#ff3d47',\n  },\n})(Rating);\n\n\n\n// Individual Order for Customer\nconst OrderCard = (props) => {\n  const { order, auth, removeOrder } = props\n  const [rating, setRating] = useState(null)\n  const [comment, setComment] = useState(\"\")\n  const [vendor, setVendor] = useState(\"\")\n  const [menu, setMenu] = useState(null)\n  const [open, setOpen] = useState(false)\n  const [rating_open, setRatingOpen] = useState(false)\n  var itemDict = {} // Initialise menu dictionary\n  const classes = useStyles()\n\n\n\n  // If a customer changes their rating, PATCH to database\n  const postRating = (newRating) =>{\n\n    console.log(\"Ratings changed to:\")\n    console.log(newRating)\n\n    const headers = {\n     'Access-Control-Allow-Origin': '*',\n     'Authorization': `Bearer ${auth}`,\n    }\n\n    const data = {\n      rating : newRating // set new rating\n    }\n\n     // PATCH customer's rating\n     axios({\n       url: `${API_URL}/vendors/${order.vendor}/orders/${order._id}`,\n       method: 'PATCH',\n       data: data,\n       headers: headers,\n     })\n\n     .then((res) => {\n       if (res.data){\n         console.log(\"Changed rating for %s to\", order.vendor)\n         console.log(res.data)\n       }\n     })\n\n     .catch((err) => {\n       console.error(err)\n     })\n  }\n\n  // If customer submits a comment with their rating\n  const handle_comment_submit = (event) => {\n    event.preventDefault()\n\n    ratingSubmitted()\n\n    const headers = {\n     'Access-Control-Allow-Origin': '*',\n     'Authorization': `Bearer ${auth}`,\n   }\n\n   const data = {\n     comment : event.target.comment.value // set customer comment\n   }\n\n    // PATCH customer's rating\n    axios({\n      url: `${API_URL}/vendors/${order.vendor}/orders/${order._id}`,\n      method: 'PATCH',\n      data: data,\n      headers: headers,\n    })\n\n    .then((res) => {\n      if (res.data){\n        console.log(\"Submitted comment:\")\n        console.log(res.data)\n      }\n    })\n\n    .catch((err) => {\n      console.error(err)\n    })\n\n  }\n\n  // Handle pop up notifications for cancel order\n  const changeOpen = () => {\n    setOpen((open) => !open)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  // Handle pop up notifications for ratings\n  const ratingSubmitted = () => {\n    setRatingOpen((rating_open) => !rating_open)\n  }\n\n  const handleRatingClose = () => {\n    setRatingOpen(false)\n  }\n\n  // If a customer cancels an order\n  const handleCancelOrder = (e) => {\n    e.preventDefault()\n    console.log('cancelling order')\n\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      Authorization: `Bearer ${auth}`,\n    }\n\n    axios\n      .delete(`${API_URL}/vendors/${order.vendor}/orders/${order._id}`, {\n        headers,\n      })\n      .then((res) => {\n        console.log('deleted order')\n        removeOrder(order._id)\n        changeOpen()\n      })\n      .catch((err) => {\n        console.error(err)\n      })\n  }\n\n  // Get initial rating and comment\n  useEffect(() => {\n    console.log('getting rating')\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    axios(`${API_URL}/vendors/${order.vendor}/orders/${order._id}`, {\n      headers,\n\n    }).then((res) => {\n      console.log(res.data.rating)\n      setRating(res.data.rating)\n      setComment(res.data.comment)\n      if (res.data.comment){\n        console.log(res.data.comment)\n      }\n\n    })\n  }, [])\n\n\n  // Get vendor's name\n  useEffect(() => {\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': `Bearer ${auth}`,\n    }\n\n    axios(`${API_URL}/vendors/${order.vendor}`, {\n      headers,\n    }).then((res) => {\n      console.log(res.data.van_name)\n      setVendor(res.data.van_name)\n    })\n  }, [])\n\n  // Get menu\n  useEffect(() => {\n    console.log('getting items')\n    axios(`${API_URL}/items`).then((res) => {\n      setMenu(res.data)\n    })\n  }, [])\n\n\n  itemDict = dictify(menu) // make menu of snacks into a dictionary with ids as keys\n\n\n  return (\n    <>\n    <ThemeProvider theme={theme}>\n      <Card\n        className={classes.root}\n        variant=\"outlined\"\n        style={{ marginTop: '20px' }}\n      >\n        {Object.keys(itemDict).length !== 0 && (\n          <CardContent>\n            <Typography\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n              display=\"inline\"\n            >\n              Order{' '}\n            </Typography>\n            <Typography\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n              display=\"inline\"\n              style={{ color: '#FAA545' }}\n            >\n              #{parseInt(order._id.slice(-4), 16).toString().slice(-4)}\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              Bought from {vendor}{' '}\n              {order.modified ? `on ${formatDateTime(order.modified)}` : null}\n            </Typography>\n\n            <Grid item>\n              {order.fulfilled ? (\n                <>\n                  <p\n                    style={{\n                      fontFamily: 'Roboto',\n                      fontSize: 14,\n                      color: 'green',\n                    }}\n                  >\n                    <td>Fulfilled {checkmark}</td>\n                  </p>\n                </>\n              ) : (\n                <p\n                  style={{\n                    fontFamily: 'Roboto',\n                    fontSize: 14,\n                    color: 'grey',\n                  }}\n                >\n                  <td>Fulfilled {emptyBox}</td>\n                </p>\n              )}\n\n              {order.picked_up ? (\n                <>\n                  <p\n                    style={{\n                      fontFamily: 'Roboto',\n                      fontSize: 14,\n                      color: 'green',\n                    }}\n                  >\n                    <td>Picked Up {checkmark}</td>\n                  </p>\n                </>\n              ) : (\n                <p\n                  style={{\n                    fontFamily: 'Roboto',\n                    fontSize: 14,\n                    color: 'grey',\n                  }}\n                >\n                  <td>Picked Up {emptyBox}</td>\n                </p>\n              )}\n            </Grid>\n\n            {Object.keys(itemDict).length !== 0 &&\n              order.items &&\n              Object.keys(order.items).length !== 0 && (\n\n                <>\n                  <TableContainer>\n                    <Table>\n                      <TableHead>\n                        <TableRow>\n                          {columns.map((column) => (\n                            <TableCell key={column}>{column}</TableCell>\n                          ))}\n                        </TableRow>\n                      </TableHead>\n\n                      {/*Mapping Items*/}\n                      <TableBody>\n                        {Object.keys(order.items).map((id, idx) => (\n                          <TableRow key={idx}>\n                            <TableCell>\n                              {itemDict[order.items[id]['item']]['item_name']}\n                            </TableCell>\n                            <TableCell>{order.items[id].quantity}</TableCell>\n                            <TableCell>\n                              {audFormatter.format(\n                                order.items[id].quantity *\n                                  itemDict[order.items[id]['item']][\n                                    'item_price'\n                                  ],\n                              )}\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                        <TableRow>\n                          <TableCell></TableCell>\n                          <TableCell></TableCell>\n                          <TableCell>\n                            <Typography variant=\"subtitle2\" gutterBottom>\n                              Total:{' '}\n                              {audFormatter.format(\n                                Object.keys(order.items)\n                                  .map(\n                                    (id) =>\n                                      order.items[id].quantity *\n                                      itemDict[order.items[id]['item']][\n                                        'item_price'\n                                      ],\n                                  )\n                                  .reduce((a, b) => a + b),\n                              )}\n                            </Typography>\n                          </TableCell>\n                        </TableRow>\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n                  <br />\n                </>\n              )}\n\n            <Grid container style={{ justifyContent: 'space-around' }}>\n\n            {/*Customer can only change or cancel order if order is unfulfilled AND it is within the time limit*/}\n              {!order.fulfilled && checkModifyWindow(order.modified) ? (\n                <Grid item>\n                  <Button variant=\"outlined\">\n                    <Typography\n                      variant=\"button\"\n                      display=\"block\"\n                      gutterBottom\n                      component={Link}\n                      to={{\n                        pathname: `/customer/modify/${order.vendor}/${order._id}`,\n                        order: order,\n                      }}\n                      style={{ textDecoration: 'none' }}\n                    >\n                      Modify Order\n                    </Typography>\n                  </Button>\n                </Grid>\n              ) : null}\n\n              {!order.fulfilled && checkModifyWindow(order.modified) ? (\n                <Grid item>\n                  <Button variant=\"outlined\" onClick={handleCancelOrder}>\n                    <Typography variant=\"button\" display=\"block\" gutterBottom>\n                      Cancel Order\n                    </Typography>\n                  </Button>\n                </Grid>\n              ) : null}\n\n              <Grid item></Grid>\n            </Grid>\n          </CardContent>\n        )}\n\n        {/*UI for customers to rate experience*/}\n        <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n          <Typography component=\"legend\">Please take a moment to rate your experience!</Typography>\n          <Rating\n            name={\"customer-rating\" + order._id}\n            precision={0.5}\n            size=\"large\"\n            value={rating}\n            onChange={(event, newRating) => {\n              setRating(newRating);\n              console.log(newRating)\n              postRating(newRating);\n            }}\n          />\n\n          {/*UI for customers to submit a comment*/}\n          <form noValidate autoComplete=\"off\" onSubmit={handle_comment_submit}>\n\n            <Grid item style={{ marginTop: \"1em\" }}>\n              <TextField\n                name=\"comment\"\n                label=\"Comment\"\n                color=\"orange\"\n                defaultValue = {comment}\n                variant= {comment ? \"filled\" : \"outlined\"}\n                style ={{width: \"70%\"}}\n              />\n              </Grid>\n\n              {/*Button to submit*/}\n              <Button variant=\"contained\"\n              color=\"orange\"\n              style={{ marginTop: '1em' , marginBottom: '1em'}}\n              disableElevation>\n                Submit\n              </Button>\n\n          </form>\n\n        </Box>\n\n\n      </Card>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={open}\n        onClose={handleClose}\n        message=\"Order cancelled!\"\n      />\n\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={rating_open}\n        onClose={handleRatingClose}\n        message=\"Thanks for reviewing!\"\n      />\n\n      </ThemeProvider>\n    </>\n  )\n}\n\nexport default OrderCard\n","import { Container, Typography } from '@material-ui/core'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { API_URL } from '../../constants'\nimport OrderCard from '../Orders/OrderCard'\nimport jwt from 'jsonwebtoken'\n\n\n\n// Order History Page which displays customer's all previous orders\n// Allows customer to modify or cancel most recent orders within time limit\nconst Orders = (props) => {\n  const [orders, setOrders] = useState(null)\n  const { auth } = props // Get authentification token\n\n  // Function to be passed into OrderCard to handle cancelled orders\n  const removeOrder = (id) => {\n    let newOrders = JSON.parse(JSON.stringify(orders))\n    setOrders(newOrders.filter((order) => order._id !== id))\n  }\n\n\n  // Get list of orders for customer\n  useEffect(() => {\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      Authorization: `Bearer ${auth}`,\n    }\n\n    // Update orders every second\n    const interval = setInterval(() => {\n\n      if (auth) {\n        // Get customer id from jwt token\n        const customer_id = auth ? jwt.decode(auth)._id : null\n\n        // Get all orders of specific customer (using customer id)\n        axios(`${API_URL}/customers/${customer_id}/orders`, {\n          headers,\n        }).then((res) => {\n          setOrders(res.data)\n        })\n      } else {\n        console.log(\"no auth yet, so let's wait until they're logged in\")\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n\n  }, [auth])\n\n\n  // If customer is not logged in\n  if (!auth) {\n    // Render :\n    return (\n      <Container>\n        <Typography variant=\"h2\">My Orders</Typography>\n        <Typography variant=\"subtitle\">\n          Please log in before viewing your orders!\n        </Typography>\n      </Container>\n    )\n  }\n\n\n  // If customer is logged in\n  return (\n    <Container>\n      <Typography variant=\"h2\">My Orders</Typography>\n      {/* Show all previous orders*/}\n\n      {orders == null\n        ? null\n        : orders.length === 0\n        ? 'You have no current or past orders!'\n        : orders\n            .sort((a, b) => -(new Date(a.modified) - new Date(b.modified)))\n            .map((order) => (\n              <OrderCard order={order} auth={auth} removeOrder={removeOrder} />\n            ))}\n    </Container>\n  )\n}\n\nexport default Orders\n","import {\n  Typography,\n  Card,\n  Grid,\n  CardMedia,\n  Button,\n  CardContent,\n  CardActions,\n} from '@material-ui/core'\n\nconst MMenuItem = (props) => {\n  const { menuItem, modifiedOrder, setModifiedOrder } = props\n\n  const handleAddToOrder = (e) => {\n    if (modifiedOrder) {\n      e.preventDefault()\n      console.log(`add ${menuItem.item_name} to order`)\n      console.log(modifiedOrder)\n\n      // Is this item already in the items dict?\n      let newModifiedOrder = JSON.parse(JSON.stringify(modifiedOrder))\n      const _id = menuItem._id\n      //   console.log(_id)\n      let found = false\n      newModifiedOrder.items.forEach((itemDict) => {\n        // console.log(itemDict.item)\n        if (itemDict.item === _id) {\n          found = true\n          console.log('found the right thing')\n          if (itemDict.hasOwnProperty('quantity')) {\n            // Increment it's quantity\n            itemDict.quantity++\n          }\n        }\n      })\n\n      if (!found) {\n        // Add a new item to items with quantity 1\n        console.log('add new item with q 1')\n        let newItems = JSON.parse(JSON.stringify(newModifiedOrder.items))\n        newItems.push({ quantity: 1, item: _id })\n        newModifiedOrder = {\n          ...newModifiedOrder,\n          items: newItems,\n        }\n      }\n      setModifiedOrder(newModifiedOrder)\n    }\n  }\n\n  const handleRemoveFromOrder = (e) => {\n    e.preventDefault()\n    console.log(`remove 1 ${menuItem.item_name} from order`)\n\n    // Is this item already in the items array?\n    let newModifiedOrder = JSON.parse(JSON.stringify(modifiedOrder))\n    const _id = menuItem._id\n    newModifiedOrder.items.forEach((itemDict, idx) => {\n      // console.log(itemDict.item)\n      if (itemDict.item === _id) {\n        //   console.log('found the right thing')\n        if (itemDict.hasOwnProperty('quantity')) {\n          // Increment it's quantity\n          itemDict.quantity--\n          // remove the item if it's quantity is 0\n          if (itemDict.quantity === 0) {\n            newModifiedOrder.items.splice(idx, 1)\n          }\n        }\n      }\n    })\n\n    setModifiedOrder(newModifiedOrder)\n  }\n\n  return (\n    <Grid item>\n      <Card variant=\"outlined\" style={{ width: '100%' }}>\n        <CardMedia\n          component=\"img\"\n          image={`http://${menuItem.item_image_url}`}\n          title=\"Menu Item\"\n        />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {menuItem.item_name}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            ${menuItem.item_price}\n          </Typography>\n          {modifiedOrder ? (\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              component=\"p\"\n              style={\n                modifiedOrder.items.filter(\n                  (orderItem) => orderItem.item === menuItem._id,\n                ).length > 0\n                  ? modifiedOrder.items.filter(\n                      (orderItem) => orderItem.item === menuItem._id,\n                    )[0].quantity > 0\n                    ? { color: '#e69705' }\n                    : {}\n                  : {}\n              }\n            >\n              {modifiedOrder.items.filter(\n                (orderItem) => orderItem.item === menuItem._id,\n              ).length > 0\n                ? modifiedOrder.items.filter(\n                    (orderItem) => orderItem.item === menuItem._id,\n                  )[0].quantity\n                : 0}{' '}\n              in current order\n            </Typography>\n          ) : null}\n        </CardContent>\n        <CardActions>\n          <Button style={{ margin: 'auto' }} onClick={handleAddToOrder}>\n            <Typography variant=\"button\" display=\"block\" gutterBottom>\n              Add to Order\n            </Typography>\n          </Button>\n        </CardActions>\n        <CardActions>\n          <Button style={{ margin: 'auto' }} onClick={handleRemoveFromOrder}>\n            <Typography variant=\"button\" display=\"block\" gutterBottom>\n              Remove from Order\n            </Typography>\n          </Button>\n        </CardActions>\n      </Card>\n    </Grid>\n  )\n}\n\nexport default MMenuItem\n","import {\n  Button,\n  Container,\n  Grid,\n  Snackbar,\n  Typography,\n} from '@material-ui/core'\nimport { useEffect, useState } from 'react'\nimport MMenuItem from '../ModifyOrder/MMenuItem'\nimport axios from 'axios'\nimport { API_URL } from '../../constants'\nimport { Link, Redirect } from 'react-router-dom'\n\nconst ModifyOrder = (props) => {\n  const { auth, menu, setMenu, order } = props\n  const vendor_id = props.match.params.vendor_id\n  const order_id = props.match.params.order_id\n\n  const [modifiedOrder, setModifiedOrder] = useState(null)\n\n  useEffect(() => {\n    setModifiedOrder(order)\n  }, [order])\n\n  const [open, setOpen] = useState(false)\n\n  const changeOpen = () => {\n    setOpen((open) => !open)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  // Get the order to modify\n  useEffect(() => {\n    if (!modifiedOrder && auth) {\n      console.log('getting order')\n      const headers = {\n        'Access-Control-Allow-Origin': '*',\n        Authorization: `Bearer ${auth}`,\n      }\n\n      axios(`${API_URL}/vendors/${vendor_id}/orders/${order_id}`, {\n        headers,\n      })\n        .then((res) => {\n          setModifiedOrder(res.data)\n          // setMOrderDicted({...res.data, items:})\n        })\n        .catch((err) => {\n          console.error(err)\n        })\n    }\n  }, [])\n\n  // Get the menu\n  useEffect(() => {\n    if (!menu) {\n      console.log('getting menu')\n      const headers = { 'Access-Control-Allow-Origin': '*' }\n\n      axios(`${API_URL}/items`, {\n        headers,\n      })\n        .then((res) => {\n          setMenu(res.data)\n        })\n        .catch((err) => {\n          console.error(err)\n        })\n    }\n  }, [])\n\n  const handleUpdateOrder = (e) => {\n    e.preventDefault()\n\n    console.log('getting vendor')\n    const headers = {\n      'Access-Control-Allow-Origin': '*',\n      Authorization: `Bearer ${auth}`,\n    }\n\n    console.log(modifiedOrder)\n\n    axios\n      .patch(\n        `${API_URL}/vendors/${modifiedOrder.vendor}/orders/${modifiedOrder._id}`,\n        modifiedOrder,\n        {\n          headers,\n        },\n      )\n      .then((res) => {\n        changeOpen()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  if (!auth) {\n    return (\n      <Container>\n        <p>Please sign in before modifying an order!</p>\n      </Container>\n    )\n  }\n\n  return (\n    <Container>\n      <Typography gutterBottom variant=\"h5\" component=\"h2\" display=\"inline\">\n        Updating Order{' '}\n      </Typography>\n      <Typography\n        gutterBottom\n        variant=\"h5\"\n        component=\"h2\"\n        display=\"inline\"\n        style={{ color: '#FAA545' }}\n      >\n        #{parseInt(order_id.slice(-4), 16).toString().slice(-4)}\n      </Typography>\n\n      {menu === null ? (\n        ''\n      ) : (\n        <>\n          <Grid\n            container\n            direction=\"row\"\n            spacing={2}\n            style={{ marginTop: '2rem' }}\n          >\n            {menu.map((menuItem, idx) => (\n              <Grid item xs={12} sm={6} md={4} lg={3} key={idx}>\n                <MMenuItem\n                  key={idx}\n                  menuItem={menuItem}\n                  modifiedOrder={modifiedOrder}\n                  setModifiedOrder={setModifiedOrder}\n                  // vendor={vanData._id}\n                />\n              </Grid>\n            ))}\n          </Grid>\n          <Grid\n            container\n            style={{\n              justifyContent: 'space-around',\n              marginTop: '2rem',\n              marginBottom: '1rem',\n            }}\n          >\n            <Grid item>\n              <Button variant=\"outlined\">\n                <Button\n                  component={Link}\n                  to={`/customer/orders`}\n                  style={{ textDecoration: 'none' }}\n                >\n                  Back to My Orders\n                </Button>\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button variant=\"outlined\" onClick={handleUpdateOrder}>\n                <Typography variant=\"button\" display=\"block\" gutterBottom>\n                  Update Order\n                </Typography>\n              </Button>\n              {/* {order.confirmed ? <Redirect to=\"/customer/orders\" /> : null} */}\n            </Grid>\n          </Grid>\n        </>\n      )}\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={open}\n        onClose={handleClose}\n        message=\"Order Modified!\"\n      />\n    </Container>\n  )\n}\n\nexport default ModifyOrder\n","import { useState } from 'react'\nimport { CssBaseline } from '@material-ui/core'\n// import Nav from './customer/Nav'\n// import Nav2 from './customer/Nav2'\nimport Nav3 from './customer/Nav3'\nimport { Switch, Route } from 'react-router-dom'\nimport SplashPage from './customer/Pages/SplashPage'\nimport Login from './customer/Pages/Login'\nimport Registration from './customer/Pages/Registration'\nimport MyOrder from './customer/Pages/MyOrder'\nimport VanDetails from './customer/Pages/VanDetails'\nimport Orders from './customer/Pages/Orders'\nimport ModifyOrder from './customer/Pages/ModifyOrder'\n\n\nconst CustomerApp = () => {\n  const [location, setLocation] = useState(null)\n  const [vans, setVans] = useState(null)\n  const [menu, setMenu] = useState(null)\n  const [order, setOrder] = useState({\n    items: {},\n    confirmed: false,\n  })\n  \n  const [auth, setAuth] = useState(null)\n\n  return (\n    <div className=\"App\">\n      <CssBaseline />\n\n      <Nav3 order={order} auth={auth}></Nav3>\n\n      <Switch>\n        <Route\n          exact\n          path=\"/customer/\"\n          render={() => (\n            <SplashPage\n              location={location}\n              setLocation={setLocation}\n              vans={vans}\n              setVans={setVans}\n            />\n          )}\n        />\n\n        <Route\n          exact\n          path=\"/customer/login\"\n          render={() => <Login auth={auth} setAuth={setAuth} />}\n        />\n\n        <Route\n          exact\n          path=\"/customer/registration\"\n          render={() => <Registration auth={auth} />}\n        />\n\n        <Route\n          exact\n          path=\"/customer/myorder\"\n          render={() => (\n            <MyOrder auth={auth} order={order} setOrder={setOrder} />\n          )}\n        />\n\n        <Route\n          exact\n          path=\"/customer/orders\"\n          render={() => <Orders auth={auth} />}\n        />\n\n        <Route\n          exact\n          path=\"/customer/modify/:vendor_id/:order_id\"\n          render={(props) => (\n            <ModifyOrder {...props} auth={auth} menu={menu} setMenu={setMenu} />\n          )}\n        />\n\n        <Route\n          exact\n          path=\"/customer/van/:id\"\n          render={(props) => (\n            <VanDetails\n              {...props}\n              auth={auth}\n              vans={vans}\n              menu={menu}\n              setMenu={setMenu}\n              order={order}\n              setOrder={setOrder}\n            />\n          )}\n        />\n      </Switch>\n    </div>\n  )\n}\n\nexport default CustomerApp\n","import { CssBaseline } from '@material-ui/core'\nimport { Switch, Route } from 'react-router-dom'\nimport VendorApp from './VendorApp'\nimport CustomerApp from './CustomerApp'\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <CssBaseline />\n      <Switch>\n        <Route path=\"/vendor\" component={VendorApp} />\n        <Route path=\"/customer\" component={CustomerApp} />\n      </Switch>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { ThemeProvider } from '@material-ui/core/styles'\nimport theme from './theme'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}